{"version":3,"sources":["../app-compiled.js"],"names":["_typeof2","Symbol","iterator","obj","constructor","prototype","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_extends","assign","target","arguments","source","key","hasOwnProperty","call","_typeof","_bot","require","bot","_interopRequireWildcard","_actionTypes","types","_index","Actions","_parseUtils","_localStore","_ParseModels","_config","_config2","_interopRequireDefault","_requestPromise","_requestPromise2","_promise","_promise2","_objectAssign","_objectAssign2","_geocoder","_geocoder2","_path","_path2","_datetimeConverterNodejs","_datetimeConverterNodejs2","_dateformat","_dateformat2","__esModule","default","newObj","APP_SECRET","process","env","MESSENGER_APP_SECRET","get","PAGE_ACCESS_TOKEN","MESSENGER_PAGE_ACCESS_TOKEN","SERVER_URL","PARSE_APP_ID","PARSE_SERVER_URL","PARSE_CLIENT_KEY","FACEBOOK_APP_ID","REDIRECT_URI","BUSINESS_ID","GOOGLE_MAPS_URL","GOOGLE_MAPS_KEY","rules","set","sendMenu","sendAddressesWithTitle","sendCart","sendOrders","sendAddresses","sendAccount","sendCreditCards","sendHelp","renderYouAreWelcome","payloadRules","newAddress","setAddressComplement","confirmAddress","setAddress","editAddress","removeAddress","sendCategories","sendProducts","addProduct","addModifier","removeProduct","increaseOneProduct","decreaseOneProduct","sendProductDescription","sendContinueOrder","searchProducts","sendCartDetails","editCart","clearCart","clearAndSendCart","sendPurchaseOptions","checkout","checkPayment","checkAddress","checkOrder","registerCreditCard","registerCreditCardAndPay","sendRegisteredCreditCards","cancelRegisterCreditCard","payWithCreditCard","sendOrder","newOrder","cancelOrder","removeCreditCard","setScore","defaultSearch","initialState","userData","reducer","state","action","console","log","data","recipientId","type","APP_LOADED","app","CUSTOMER_LOADED","customer","extractParseAttributes","CONSUMER_LOADED","consumer","USER_LOADED","user","CONSUMER_ADDRESSES_LOADED","addresses","map","a","SET_CURRENT_ADDRESS","address","PAYMENT_METHODS_LOADED","paymentMethods","p","SET_PAYMENT_METHOD","paymentMethod","SET_ORDERS","ongoing","orders","delivered","CONSUMER_UPDATED","CONSUMER_NOT_FOUND","CONSUMER_ORDERS_LOADED","USER_CREDITCARDS_LOADED","creditCards","SET_CUSTOMER_POINT_SALE","pointSale","SET_ORDER","order","SET_USER","_user","SET_CONSUMER","_consumer","SET_CUSTOMER","_customer","SET_ORDER_STATE","_orderState","orderState","RENDER_MENU","renderMenu","RENDER_ADDRESS_MENU","renderAddress","createLocalStore","signUp","facebookId","conversationToken","User","createUser","store","then","userObject","getData","rawParseObject","createConsumer","resolve","reject","login","username","password","Parse","logIn","success","error","_error","message","authentication","getCustomer","getUser","getConsumer","Customer","loadInStore","Promise","as","userObj","consumerObj","Consumer","sendSignUp","sendTypingOn","renderSignUp","image_url","messageData","recipient","id","attachment","payload","template_type","elements","sendTypingOff","callSendAPI","image","url","first_name","name","renderAddressTitle","ConsumerAddress","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","limit","description","city","location","lat","lng","objectId","return","CreditCard","renderCreditCards","userBuffer","buffer","creditCardImage","creditCardPayload","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","creditCard","creditCardImages","has","lastFour","cardHolderName","setDataBuffer","writeAddress","setListener","addressCheck","setLocationCheck","renderMapMessage","renderNullMapMessage","sendMap","renderMap","sendMapConfirmation","renderMapConfirmation","geocode","status","setAddressComponetsInBuffer","results","formatted_address","geometry","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","address_components","_step3","component","includes","route","long_name","street_number","short_name","locality","administrative_area","country","country_code","postal_code","addressPayload","saveAddress","startsWith","split","GeoPoint","latitude","parseFloat","longitude","Query","consumerAddress","complement","save","renderAddressUpdate","_error2","address_name","__type","className","result","renderAddressSave","_error3","setEmail","setEmailCheck","email","saveInStore","setTelephone","setTelephoneCheck","setPhone","telephone","reverseGeocode","dispatch","Cloud","run","businessId","setCustomerPointSale","renderAddressConfirmation","code","renderAddressOutOfCoverage","destroy","renderRemoveAddress","renderRemoveCreditCard","renderCategoriesInitialMessage","index","pointSaleIsOpen","parseInt","categories","sendScheduleRestriction","pointSaleSchedules","splitCategories","idx","forEach","item","title","buttons","renderCategories","keys","catIni","catFin","subtitle","renderProductsInitialMessage","categoryId","Category","category","text","object","proIdx","products","renderEmptyProducts","renderProducts","splitProducts","product","createCart","items","Map","cart","productId","Product","productObject","promises","quantity","price","priceDefault","modifiers","array","Modifier","modifier","when","undefinedModifiers","checkModifiers","modifierItem","ModifierItem","modifierItems","renderModifierMenu","saveCart","renderAddProduct","renderContinueOrder","quick_replies","modifierId","itemId","orderItemModifier","OrderItemModifier","_error4","exist","itemModifier","checkModifiersComplete","OrderItem","orderItem","delete","itemsPointers","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_step4$value","size","_error5","_error6","_error7","consumerCart","Cart","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_step5$value","properties","saveAll","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_item","method","_error8","_error9","saveOrder","Order","state0","orderStates","total","deliveryCost","phone","setOrder","_error10","sendEmptyCartOptions","customer_image_url","element","orderLimit","ind","renderCartEmpty","renderCart","_error11","alert","cartId","payment_method","addressData","street_1","street_2","postalCode","countryCode","recipient_name","last_name","order_number","currency","timestamp","Math","trunc","Date","now","toString","summary","subtotal","shipping_cost","total_cost","renderCartDetails","renderEditCartOptions","minOrderPrice","sendMinOrderPriceRestriction","loadPaymentMethods","renderCheckPayment","substring","setPaymentMethod","paymentFunction","paymentTypes","renderMinOrderPriceRestriction","days","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","pointSaleSchedule","daysActive","allDay","dayID","renderScheduleRestriction","sendCash","renderCash","orderConfirmation","renderCancelRegisterCreditCard","renderNoRegisteredCreditCards","renderRegisteredCreditCards","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_iterator8","_step8","card","creditCardId","renderOrderConfirmation","messagePush","renderOrderState","orderSent","renderOrderSent","serviceRating","sendOrderState","score","orderId","Number","comment","thank","query","q","renderSearchEmpty","renderSearchInitial","splitSearchResult","productObjects","renderHelp","sendContactUs","consumerId","setOrders","renderOrders","fail","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_iterator9","_step9","datetime","dateString","createdAt","orderNumber","currentOrder","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_iterator10","_step10","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_iterator11","_step11","amount","renderOrder","renderCancelOrder","renderAccount","addCreditCard","token","expiration","replace","uri","headers","json","body","catch","createOrder","checkSchedulesDeliveryPointSale","params","date","toJSON","slice","renderShoppingCartOptions","updateCart","localCart","setPayment","sendRegisterFacebookUser","req","res","sendFile","join","__dirname","post","psid","uid","accessToken","end","consumerID","getSessionToken","_error12","OrderState","setOrderState","PaymentMethod","find","methods","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_iterator12","_step12","tmpMethod","states","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_iterator13","_step13","module","exports"],"mappings":"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","file":"app-compiled.js","sourcesContent":["'use strict';var _typeof2=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _typeof=typeof Symbol===\"function\"&&_typeof2(Symbol.iterator)===\"symbol\"?function(obj){return typeof obj===\"undefined\"?\"undefined\":_typeof2(obj);}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol?\"symbol\":typeof obj===\"undefined\"?\"undefined\":_typeof2(obj);};var _bot=require('./bot');var bot=_interopRequireWildcard(_bot);var _actionTypes=require('./constants/actionTypes');var types=_interopRequireWildcard(_actionTypes);var _index=require('./actions/index');var Actions=_interopRequireWildcard(_index);var _parseUtils=require('./parseUtils');var _localStore=require('./localStore');var _ParseModels=require('./models/ParseModels');var _config=require('config');var _config2=_interopRequireDefault(_config);var _requestPromise=require('request-promise');var _requestPromise2=_interopRequireDefault(_requestPromise);var _promise=require('promise');var _promise2=_interopRequireDefault(_promise);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _geocoder=require('geocoder');var _geocoder2=_interopRequireDefault(_geocoder);var _path=require('path');var _path2=_interopRequireDefault(_path);var _datetimeConverterNodejs=require('datetime-converter-nodejs');var _datetimeConverterNodejs2=_interopRequireDefault(_datetimeConverterNodejs);var _dateformat=require('dateformat');var _dateformat2=_interopRequireDefault(_dateformat);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}var APP_SECRET=process.env.MESSENGER_APP_SECRET?process.env.MESSENGER_APP_SECRET:_config2.default.get('APP_SECRET');var PAGE_ACCESS_TOKEN=process.env.MESSENGER_PAGE_ACCESS_TOKEN?process.env.MESSENGER_PAGE_ACCESS_TOKEN:_config2.default.get('PAGE_ACCESS_TOKEN');var SERVER_URL=process.env.SERVER_URL?process.env.SERVER_URL:_config2.default.get('SERVER_URL');var PARSE_APP_ID=process.env.PARSE_APP_ID?process.env.PARSE_APP_ID:_config2.default.get('PARSE_APP_ID');var PARSE_SERVER_URL=process.env.PARSE_SERVER_URL?process.env.PARSE_SERVER_URL:_config2.default.get('PARSE_SERVER_URL');var PARSE_CLIENT_KEY=process.env.PARSE_CLIENT_KEY?process.env.PARSE_CLIENT_KEY:_config2.default.get('PARSE_CLIENT_KEY');var FACEBOOK_APP_ID=process.env.FACEBOOK_APP_ID?process.env.FACEBOOK_APP_ID:_config2.default.get('FACEBOOK_APP_ID');var REDIRECT_URI=process.env.REDIRECT_URI?process.env.REDIRECT_URI:_config2.default.get('REDIRECT_URI');var BUSINESS_ID=process.env.BUSINESS_ID?process.env.BUSINESS_ID:_config2.default.get('BUSINESS_ID');var GOOGLE_MAPS_URL=process.env.GOOGLE_MAPS_URL?process.env.GOOGLE_MAPS_URL:_config2.default.get('GOOGLE_MAPS_URL');var GOOGLE_MAPS_KEY=process.env.GOOGLE_MAPS_KEY?process.env.GOOGLE_MAPS_KEY:_config2.default.get('GOOGLE_MAPS_KEY');bot.rules.set('hola',sendMenu);bot.rules.set('iniciar',sendMenu);bot.rules.set('empezar',sendMenu);bot.rules.set('comenzar',sendMenu);bot.rules.set('buenos dias',sendMenu);bot.rules.set('buenas tardes',sendMenu);bot.rules.set('men',sendMenu);bot.rules.set('pedir domicilio',sendAddressesWithTitle);bot.rules.set('carrito',sendCart);bot.rules.set('cuenta',sendCart);bot.rules.set('mi orden',sendOrders);bot.rules.set('mis rdenes',sendOrders);bot.rules.set('mi direccin',sendAddresses);bot.rules.set('mi cuenta',sendAccount);bot.rules.set('mis direcciones',sendAddresses);bot.rules.set('mi tarjeta',sendCreditCards);bot.rules.set('mis tarjetas',sendCreditCards);bot.rules.set('ayuda',sendHelp);bot.rules.set('help',sendHelp);bot.rules.set('gracias',renderYouAreWelcome);bot.payloadRules.set('Greeting',sendMenu);bot.payloadRules.set('SendAddressesWithTitle',sendAddressesWithTitle);bot.payloadRules.set('SendAddresses',sendAddresses);bot.payloadRules.set('NewAddress',newAddress);bot.payloadRules.set('SetAddressComplement',setAddressComplement);bot.payloadRules.set('ConfirmAddress',confirmAddress);bot.payloadRules.set('SetAddress',setAddress);bot.payloadRules.set('EditAddress',editAddress);bot.payloadRules.set('RemoveAddress',removeAddress);bot.payloadRules.set('SendCategories',sendCategories);bot.payloadRules.set('SendProducts',sendProducts);bot.payloadRules.set('AddProduct',addProduct);bot.payloadRules.set('AddModifier',addModifier);bot.payloadRules.set('RemoveProduct',removeProduct);bot.payloadRules.set('IncreaseOneProduct',increaseOneProduct);bot.payloadRules.set('DecreaseOneProduct',decreaseOneProduct);bot.payloadRules.set('SendProductDescription',sendProductDescription);bot.payloadRules.set('SendContinueOrder',sendContinueOrder);bot.payloadRules.set('Search',searchProducts);bot.payloadRules.set('SendCart',sendCart);bot.payloadRules.set('SendCartDetails',sendCartDetails);bot.payloadRules.set('EditCart',editCart);bot.payloadRules.set('ClearCart',clearCart);bot.payloadRules.set('ClearAndSendCart',clearAndSendCart);bot.payloadRules.set('SendPurchaseOptions',sendPurchaseOptions);bot.payloadRules.set('Checkout',checkout);bot.payloadRules.set('CheckPayment',checkPayment);bot.payloadRules.set('CheckAddress',checkAddress);bot.payloadRules.set('CheckOrder',checkOrder);bot.payloadRules.set('RegisterCreditCard',registerCreditCard);bot.payloadRules.set('RegisterCreditCardAndPay',registerCreditCardAndPay);bot.payloadRules.set('SendRegisteredCreditCards',sendRegisteredCreditCards);bot.payloadRules.set('CancelRegisterCreditCard',cancelRegisterCreditCard);bot.payloadRules.set('PayWithCreditCard',payWithCreditCard);bot.payloadRules.set('SendOrders',sendOrders);bot.payloadRules.set('SendOrder',sendOrder);bot.payloadRules.set('NewOrder',newOrder);bot.payloadRules.set('CancelOrder',cancelOrder);bot.payloadRules.set('SendCreditCards',sendCreditCards);bot.payloadRules.set('RemoveCreditCard',removeCreditCard);bot.payloadRules.set('SetScore',setScore);bot.payloadRules.set('SendAccount',sendAccount);bot.payloadRules.set('SendHelp',sendHelp);bot.payloadRules.set('CustomerService',sendHelp);bot.defaultSearch=searchProducts;var initialState={userData:{}/*\n    geocodedLocation: {lat: -1, lng: -1},\n    addresses: [],\n    mapBounds: {},\n    mapAddress: '',\n    useSubCategories: false,\n    products: [],\n    pointOfSales: [],\n    categories: [],\n    paymentMethods: [],\n    consumer: {},\n    customer: {},\n    orders: { ongoing: [], delivered: [] },\n    orderToRate: null,\n    currentOrder: {\n        consumerAddress:{},\n        items: []\n    },\n    locationZoom: 3,\n    profileIsOpen: false,\n    mapAddressIsOpen: false,\n    addressFormIsOpen: false,\n    addressListIsOpen: false,\n    savingAddress: false,\n    creatingOrder: false,\n    paymentMethodNotSelected: false,\n    cartTotalIsBelowMinimumPrice: false,\n    currentCategory: {},\n    consumerNotFound: false,\n    updatingConsumer: false,\n    currentUser: {},\n    pendingOrder: false*/};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];console.log('ACTION');console.log(action);var data=action.data;if(data&&data.hasOwnProperty('recipientId')){if(_typeof(state.userData[data.recipientId])!='object'){state.userData[data.recipientId]={};}}switch(action.type){case types.APP_LOADED:{console.log('Application is running on port',bot.app.get('port'));return _extends({},state);}case types.CUSTOMER_LOADED:{var customer=(0,_parseUtils.extractParseAttributes)(data.customer);if(_typeof(state.userData[data.recipientId])!='object'){state.userData[data.recipientId]={};}(0,_objectAssign2.default)(state.userData[data.recipientId],{customer:customer});return _extends({},state);}case types.CONSUMER_LOADED:{var consumer=(0,_parseUtils.extractParseAttributes)(data.consumer);(0,_objectAssign2.default)(state.userData[data.recipientId],{consumer:consumer});return _extends({},state);}case types.USER_LOADED:{var user=(0,_parseUtils.extractParseAttributes)(data.user);(0,_objectAssign2.default)(state.userData[data.recipientId],{user:user});return _extends({},state);}case types.CONSUMER_ADDRESSES_LOADED:{var addresses=data.addresses.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{addresses:addresses});return _extends({},state);}case types.SET_CURRENT_ADDRESS:{var address=(0,_parseUtils.extractParseAttributes)(data.address);(0,_objectAssign2.default)(state.userData[data.recipientId],{address:address});return _extends({},state);}case types.PAYMENT_METHODS_LOADED:{var paymentMethods=data.paymentMethods.map(function(p){return(0,_parseUtils.extractParseAttributes)(p);});(0,_objectAssign2.default)(state.userData[data.recipientId],{paymentMethods:paymentMethods});return _extends({},state);}case types.SET_PAYMENT_METHOD:{var paymentMethod=(0,_parseUtils.extractParseAttributes)(data.paymentMethod);(0,_objectAssign2.default)(state.userData[data.recipientId],{paymentMethod:paymentMethod});return _extends({},state);}case types.SET_ORDERS:{var ongoing=data.orders.ongoing.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});var delivered=data.orders.delivered.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{orders:{ongoing:ongoing,delivered:delivered}});return _extends({},state);}case types.CONSUMER_UPDATED:{return _extends({},state);}case types.CONSUMER_NOT_FOUND:{return _extends({},state);}case types.CONSUMER_ORDERS_LOADED:{var orders=data.orders.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{orders:orders});return _extends({},state);}case types.USER_CREDITCARDS_LOADED:{var creditCards=data.creditCards.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{creditCards:creditCards});return _extends({},state);}case types.SET_CUSTOMER_POINT_SALE:{var pointSale=(0,_parseUtils.extractParseAttributes)(data.pointSale);(0,_objectAssign2.default)(state.userData[data.recipientId],{pointSale:pointSale});return _extends({},state);}case types.SET_ORDER:{var order=(0,_parseUtils.extractParseAttributes)(data.order);(0,_objectAssign2.default)(state.userData[data.recipientId],{order:order});return _extends({},state);}case types.SET_USER:{var _user=(0,_parseUtils.extractParseAttributes)(data.user);(0,_objectAssign2.default)(state.userData[data.recipientId],{user:_user});return _extends({},state);}case types.SET_CONSUMER:{var _consumer=(0,_parseUtils.extractParseAttributes)(data.consumer);(0,_objectAssign2.default)(state.userData[data.recipientId],{consumer:_consumer});return _extends({},state);}case types.SET_CUSTOMER:{var _customer=(0,_parseUtils.extractParseAttributes)(data.customer);(0,_objectAssign2.default)(state.userData[data.recipientId],{customer:_customer});return _extends({},state);}case types.SET_ORDER_STATE:{var _orderState=(0,_parseUtils.extractParseAttributes)(data.orderState);(0,_objectAssign2.default)(state.userData[data.recipientId],{orderState:_orderState});return _extends({},state);}case types.RENDER_MENU:{renderMenu();return state;}case types.RENDER_ADDRESS_MENU:{renderAddress();return state;}default:return state;}};(0,_localStore.createLocalStore)(reducer);function signUp(recipientId,facebookId,conversationToken){return _ParseModels.User.createUser(store,recipientId,facebookId,conversationToken).then(function(){var userObject=(0,_localStore.getData)(recipientId,'user');var user=userObject.rawParseObject;return user.createConsumer(store,recipientId,conversationToken).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(userObject);});});});}function login(username,password){return Parse.User.logIn(username,password,{success:function success(user){//let val = JSON.stringify({sessionToken: user.getSessionToken()});\n//console.log(val);\nreturn user;},error:function error(user,_error){console.log('Failed to create new object, with error code: '+_error.message);}});}function authentication(recipientId){return getCustomer(recipientId).then(function(customer){return getUser(recipientId).then(function(user){if(typeof user=='undefined'){//sendSignUp(recipientId)\nreturn _ParseModels.User.createUser(store,recipientId,recipientId,PAGE_ACCESS_TOKEN).then(function(){var userObject=(0,_localStore.getData)(recipientId,'user');var user=userObject.rawParseObject;return user.createConsumer(store,recipientId,PAGE_ACCESS_TOKEN).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(userObject);});});});}else{return getConsumer(recipientId,user.rawParseObject).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(user);});/*Parse.Promise.as().then(() => {\n                        return user;\n                    });*/});}//return login(user.username, user.username).then(()=>{\n//});\n});});}function getCustomer(recipientId){var customer=(0,_localStore.getData)(recipientId,'customer');if(typeof customer=='undefined'){return _ParseModels.Customer.loadInStore(store,recipientId,BUSINESS_ID).then(function(){return(0,_localStore.getData)(recipientId,'customer');});}else{return Parse.Promise.as().then(function(){return customer;});}}function getUser(recipientId){var userObj=(0,_localStore.getData)(recipientId,'user');if(typeof userObj=='undefined'){return _ParseModels.User.loadInStore(store,recipientId).then(function(){return(0,_localStore.getData)(recipientId,'user');});}else{return Parse.Promise.as().then(function(){return userObj;});}}function getConsumer(recipientId,user){var consumerObj=(0,_localStore.getData)(recipientId,'consumer');if(typeof consumerObj=='undefined'){return _ParseModels.Consumer.loadInStore(store,recipientId,user).then(function(){consumerObj=(0,_localStore.getData)(recipientId,'consumer');if(typeof consumerObj!='undefined'){return Parse.Promise.as().then(function(){return consumerObj;});}else{console.log('create consumer');/*return createConsumer(recipientId, user).then( () => {\n                    return getData(recipientId, 'consumer');\n                });*/}});}else{return Parse.Promise.as().then(function(){return consumerObj;});}}function sendSignUp(recipientId){bot.sendTypingOn(recipientId);renderSignUp(recipientId);}function renderSignUp(recipientId){var image_url=SERVER_URL+\"assets/images/love.jpg\";var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"generic\",elements:[{\"title\":\"Hola, soy un Bot\",\"subtitle\":\"Soy tu asistente virtual. Quieres registrarte en nuestro sistema?\",\"image_url\":image_url,\"buttons\":[{\"type\":\"web_url\",\"url\":SERVER_URL+\"login?psid=\"+recipientId,\"title\":\"Registrarme\",\"webview_height_ratio\":\"full\",\"messenger_extensions\":true}]}]}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendMenu(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){renderMenu(recipientId);});}function renderMenu(recipientId){var customer=(0,_localStore.getData)(recipientId,'customer');var user=(0,_localStore.getData)(recipientId,'user');var image_url=customer.image.url;//bot.sendGeneric(title, subtitle, image_url, buttons)\nvar messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"generic\",elements:[{\"title\":\"Hola \"+user.first_name+\", Bienvenido a \"+customer.name,\"subtitle\":\"Aqu puedes pedir un domicilio, escribe o selecciona alguna de las opciones:\",\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Pedir domicilio\",\"payload\":\"SendAddressesWithTitle\"},{\"type\":\"postback\",\"title\":\"Servicio al cliente\",\"payload\":\"CustomerService\"}]}]}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendAddressesWithTitle(recipientId){renderAddressTitle(recipientId).then(function(){sendAddresses(recipientId);});}function renderAddressTitle(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"A cual direccin vas hacer tu pedido?\\n\\nPuedes escoger entre agregar una nueva direccin o seleccionar una de tus direcciones guardadas\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendAddresses(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');_ParseModels.ConsumerAddress.loadInStore(store,recipientId,consumer).then(function(){renderAddress(recipientId);});});}function renderAddress(recipientId){var addresses=(0,_localStore.getData)(recipientId,'addresses');var elements=[];elements.push({\"title\":\"Nueva direccin\",\"subtitle\":\"Puedes agregar una nueva direccin\",\"image_url\":SERVER_URL+\"assets/images/addAddress.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva direccin\",\"payload\":\"NewAddress\"}]});var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=addresses[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var address=_step.value;if(elements.length<bot.limit){elements.push({\"title\":address.name,\"subtitle\":address.address+\", \"+address.description+\", \"+address.city+\", \"+address.state,\"image_url\":GOOGLE_MAPS_URL+\"?center=\"+address.location.lat+\",\"+address.location.lng+\"&zoom=16&size=400x400&markers=color:red%7C\"+address.location.lat+\",\"+address.location.lng+\"&key=\"+GOOGLE_MAPS_KEY,\"buttons\":[{\"type\":\"postback\",\"title\":\"Seleccionar\",\"payload\":\"SetAddress-\"+address.objectId},{\"type\":\"postback\",\"title\":\"Modificar\",\"payload\":\"EditAddress-\"+address.objectId},{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveAddress-\"+address.objectId}]});}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendCreditCards(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){var user=(0,_localStore.getData)(recipientId,'user');_ParseModels.CreditCard.loadInStore(store,recipientId,user).then(function(){renderCreditCards(recipientId);});});}function renderCreditCards(recipientId){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');var elements=[];var userBuffer=bot.buffer[recipientId];var creditCardImage=void 0;if(typeof userBuffer!='undefined'&&userBuffer.hasOwnProperty('creditCardPayload')){delete userBuffer.creditCardPayload;}elements.push({\"title\":\"Registro de tarjeta\",\"subtitle\":\"Puedes agregar una tarjeta\",\"image_url\":SERVER_URL+\"assets/images/creditCards.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva tarjeta\",\"payload\":\"RegisterCreditCard\"}]});var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=creditCards[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var creditCard=_step2.value;if(elements.length<bot.limit){creditCardImage=creditCardImages.has(creditCard.type)?creditCardImages.get(creditCard.type):creditCardImages.get('DEFAULT');elements.push({\"title\":creditCard.type+' '+creditCard.lastFour,\"subtitle\":creditCard.cardHolderName,\"image_url\":SERVER_URL+creditCardImage,\"buttons\":[{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveCreditCard-\"+creditCard.objectId}]});}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function newAddress(recipientId){bot.sendTypingOff(recipientId);bot.setDataBuffer(recipientId,'addressPayload','NewAddress');writeAddress(recipientId);}function writeAddress(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Puedes escribir o compartir tu ubicacin actual?\\n\\nEjemplo: Calle 67 #52-20, Medelln.\\n\\nNo olvides escribir la ciudad al final de la direccin.\",\"quick_replies\":[{\"content_type\":\"location\",\"title\":\"Enviar ubicacin\"}]}};bot.setListener(recipientId,'address','text',addressCheck);bot.setListener(recipientId,'location','attachment',setLocationCheck);return bot.callSendAPI(messageData);}function renderMapMessage(recipientId){var userBuffer=bot.buffer[recipientId];var messageData={recipient:{id:recipientId},\"message\":{\"text\":\"Encontr esta direccin en Google Maps:\\n\\n\"+userBuffer.address+\"\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderNullMapMessage(recipientId){var messageData={recipient:{id:recipientId},\"message\":{\"text\":\"La direccin no ha sido encontrada en Google Maps, por favor intenta de nuevo\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendMap(recipientId){renderMap(recipientId).then(function(){sendMapConfirmation(recipientId);});}function renderMap(recipientId){bot.sendTypingOff(recipientId);var userBuffer=bot.buffer[recipientId];var messageData={recipient:{id:recipientId},\"message\":{\"attachment\":{\"type\":\"image\",\"payload\":{\"url\":GOOGLE_MAPS_URL+\"?center=\"+userBuffer.location.lat+\",\"+userBuffer.location.lng+\"&zoom=16&size=400x400&markers=color:red%7C\"+userBuffer.location.lat+\",\"+userBuffer.location.lng+\"&key=\"+GOOGLE_MAPS_KEY}}}};return bot.callSendAPI(messageData);}function sendMapConfirmation(recipientId){renderMapConfirmation(recipientId);}function renderMapConfirmation(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Es correcta?\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Si\",\"payload\":\"SetAddressComplement\"},{\"content_type\":\"text\",\"title\":\"No\",\"payload\":\"NewAddress\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function addressCheck(recipientId){var userBuffer=bot.buffer[recipientId];_geocoder2.default.geocode(userBuffer.address,function(error,data){if(!error&&data.status=='OK'){setAddressComponetsInBuffer(recipientId,data.results[0]);}else{console.log('Geocode not found');console.log(error);renderNullMapMessage(recipientId).then(function(){newAddress(recipientId);});}});}function setAddressComponetsInBuffer(recipientId,data){var userBuffer=bot.buffer[recipientId];userBuffer.address=data.formatted_address;userBuffer.location=data.geometry.location;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=data.address_components[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var component=_step3.value;if(component.types.includes('route')){userBuffer.route=component.long_name;}else if(component.types.includes('street_number')){userBuffer.street_number=component.short_name;}else if(component.types.includes('locality')){userBuffer.locality=component.short_name;}else if(component.types.includes('administrative_area_level_1')){userBuffer.state=component.short_name;}else if(component.types.includes('administrative_area_level_2')){userBuffer.administrative_area=component.short_name;}else if(component.types.includes('country')){userBuffer.country=component.long_name;userBuffer.country_code=component.short_name;}else if(component.types.includes('postal_code')){userBuffer.postal_code=component.short_name;}}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}renderMapMessage(recipientId).then(function(){sendMap(recipientId);});}function setAddressComplement(recipientId){bot.sendTypingOff(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Por favor escribe el complemento de tu direccin actual.\\n\\nEjemplo: Apto 303, edificio el palmar.\\n\\nNo olvides colocar el nombre del edificio o del barrio\"}};bot.setListener(recipientId,'complement','text',confirmAddress);return bot.callSendAPI(messageData);}function confirmAddress(recipientId){var userBuffer=bot.buffer[recipientId];var addressPayload=userBuffer['addressPayload'];if(addressPayload=='NewAddress'){var messageData={recipient:{id:recipientId},message:{\"text\":\"Por favor coloca un nombre a esta direccin para guardarla. \\n\\nEjemplo: casa, apartamento o oficina\"}};bot.setListener(recipientId,'address_name','text',saveAddress);bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}else if(addressPayload.startsWith('EditAddress')){(function(){var data=addressPayload.split('-');var location=new Parse.GeoPoint({latitude:parseFloat(userBuffer.location.lat),longitude:parseFloat(userBuffer.location.lng)});new Parse.Query(_ParseModels.ConsumerAddress).get(data[1]).then(function(consumerAddress){consumerAddress.set('address',userBuffer.route+\" # \"+userBuffer.street_number);consumerAddress.set('location',location);consumerAddress.set('country',userBuffer.country);consumerAddress.set('countryCode',userBuffer.country_code);consumerAddress.set('postalCode',userBuffer.postal_code);consumerAddress.set('state',userBuffer.state);consumerAddress.set('description',userBuffer.complement);consumerAddress.save(undefined,{success:function success(address){delete userBuffer.address;delete userBuffer.location;delete userBuffer.complement;renderAddressUpdate(recipientId).then(function(){setAddress(recipientId,address.id);});},error:function error(user,_error2){console.log('Failed to create new object, with error code: '+_error2.message);}});});})();}}function renderAddressUpdate(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La direccin ha sido actualizada.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function saveAddress(recipientId){var consumer=(0,_localStore.getData)(recipientId,'consumer');var userBuffer=bot.buffer[recipientId];var location=new Parse.GeoPoint({latitude:parseFloat(userBuffer.location.lat),longitude:parseFloat(userBuffer.location.lng)});var consumerAddress=new _ParseModels.ConsumerAddress();consumerAddress.set('name',userBuffer.address_name);consumerAddress.set('address',userBuffer.route+\" # \"+userBuffer.street_number);consumerAddress.set('consumer',{__type:\"Pointer\",className:\"Consumer\",objectId:consumer.objectId});consumerAddress.set('location',location);consumerAddress.set('city',userBuffer.locality);consumerAddress.set('country',userBuffer.country);consumerAddress.set('countryCode',userBuffer.country_code);consumerAddress.set('postalCode',userBuffer.postal_code);consumerAddress.set('state',userBuffer.state);consumerAddress.set('description',userBuffer.complement);consumerAddress.save(undefined,{success:function success(result){delete userBuffer.address;delete userBuffer.location;delete userBuffer.complement;delete userBuffer['address_name'];renderAddressSave(recipientId).then(function(){setAddress(recipientId,result.id);});},error:function error(user,_error3){console.log('Failed to create new object, with error code: '+_error3.message);}});}function renderAddressSave(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La direccin ha sido almacenada.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function setEmail(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Por favor escribe tu email:\"}};bot.setListener(recipientId,'email','text',setEmailCheck);bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function setEmailCheck(recipientId,value){var userBuffer=bot.buffer[recipientId];var consumer=(0,_localStore.getData)(recipientId,'consumer').rawParseObject;consumer.setEmail(userBuffer.email);consumer.saveInStore(store,recipientId).then(function(){delete userBuffer.email;checkOrder(recipientId);});}function setTelephone(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Por favor escribe tu nmero telefnico:\"}};bot.setListener(recipientId,'telephone','text',setTelephoneCheck);bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function setTelephoneCheck(recipientId){var userBuffer=bot.buffer[recipientId];var consumer=(0,_localStore.getData)(recipientId,'consumer').rawParseObject;consumer.setPhone(userBuffer.telephone);consumer.saveInStore(store,recipientId).then(function(){delete userBuffer.telephone;checkOrder(recipientId);});}function setLocationCheck(recipientId){var userBuffer=bot.buffer[recipientId];_geocoder2.default.reverseGeocode(userBuffer.location.lat,userBuffer.location.lng,function(error,data){if(!error&&data.status=='OK'){setAddressComponetsInBuffer(recipientId,data.results[0]);}else{console.log('Geocode not found');console.log(error);renderNullMapMessage(recipientId).then(function(){newAddress(recipientId);});}});}function setAddress(recipientId,id){bot.sendTypingOn(recipientId);store.dispatch(Actions.setAddress(recipientId,id)).then(function(){var address=(0,_localStore.getData)(recipientId,'address');Parse.Cloud.run('getProducts',{businessId:BUSINESS_ID,lat:address.location.lat,lng:address.location.lng}).then(function(result){var pointSale=result.pointSale;store.dispatch(Actions.setCustomerPointSale(recipientId,pointSale.id)).then(function(){renderAddressConfirmation(recipientId).then(function(){sendCategories(recipientId,0);});});},function(error){if(error.code=='141'){renderAddressOutOfCoverage(recipientId).then(function(){sendAddressesWithTitle(recipientId);});}else{console.log('error');console.log(error);}});});}function editAddress(recipientId,id){bot.sendTypingOff(recipientId);bot.setDataBuffer(recipientId,'addressPayload','EditAddress-'+id);writeAddress(recipientId);}function removeAddress(recipientId,id){new Parse.Query(_ParseModels.ConsumerAddress).get(id).then(function(consumerAddress){consumerAddress.destroy().then(function(){renderRemoveAddress(recipientId).then(function(){sendAddresses(recipientId);});});});}function renderRemoveAddress(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La direccin ha sido eliminada.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function removeCreditCard(recipientId,id){new Parse.Query(_ParseModels.CreditCard).get(id).then(function(creditCard){creditCard.destroy().then(function(){renderRemoveCreditCard(recipientId).then(function(){sendCreditCards(recipientId);});});});}function renderRemoveCreditCard(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La tarjeta de credito ha sido eliminada.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderAddressOutOfCoverage(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La direccin seleccionada no est dentro de la cobertura de nuestras sedes, por favor intenta con otra direccin\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderAddressConfirmation(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Perfecto, ya seleccion tu direccin para este pedido\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderCategoriesInitialMessage(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"A continuacin te presentamos las categoras de productos disponibles.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendCategories(recipientId,index){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){Parse.Cloud.run('getProducts',{businessId:BUSINESS_ID}).then(function(result){if(result.pointSaleIsOpen){if(typeof index=='undefined')index=0;else if(typeof index=='string')index=parseInt(index);if(index==0){renderCategoriesInitialMessage(recipientId);bot.sendTypingOn(recipientId);}renderCategories(recipientId,result.categories,index);}else{sendScheduleRestriction(recipientId,result.pointSaleSchedules);}},function(error){console.log('error');console.log(error);});});}function splitCategories(recipientId,categories,index){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];categories.forEach(function(item){if(item&&item.get('name')){if(idx>=index*bot.limit&&idx<(index+1)*bot.limit){var image=item.get('image');image_url=typeof image!='undefined'?image.url():customer.image.url;elements.push({title:item.get('name'),image_url:image_url,buttons:[{type:\"postback\",title:'Ver categora',payload:\"SendProducts-\"+item.id+\"-0\"}]});}idx=idx+1;}});return elements;}function renderCategories(recipientId,categories,index){var elements=splitCategories(recipientId,categories,index);var idx=Object.keys(categories).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Categoras \"+(catIni+1)+\"-\"+catFin,payload:\"SendCategories-\"+(index+1)});elements.push({title:\"Ver ms categorias \",subtitle:\"Categoras disponibles\",buttons:buttons});}var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"generic\",elements:elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderProductsInitialMessage(recipientId,categoryId){return new Parse.Query(_ParseModels.Category).get(categoryId).then(function(category){var messageData={recipient:{id:recipientId},message:{text:\"Selecciona \"+category.get('name')+\":\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);},function(object,error){console.log(error);});}function sendProducts(recipientId,categoryId,proIdx){bot.sendTypingOn(recipientId);proIdx=parseInt(proIdx);if(proIdx==0){renderProductsInitialMessage(recipientId,categoryId);bot.sendTypingOn(recipientId);}Parse.Cloud.run('getProducts',{businessId:BUSINESS_ID,category:categoryId}).then(function(result){if(result.hasOwnProperty('categories')){renderCategories(recipientId,result.categories,0);}else{if(result.products.length==0){renderEmptyProducts(recipientId);}else{renderProducts(recipientId,categoryId,result.products,proIdx);}}},function(error){console.log('error');console.log(error);});}function splitProducts(recipientId,products,proIdx){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];products.forEach(function(product){if(product&&product.get('name')){if(idx>=proIdx*bot.limit&&idx<(proIdx+1)*bot.limit){var image=product.get('image');image_url=typeof image!='undefined'?image.url():customer.image.url;elements.push({title:product.get('name')+\": $\"+product.get('priceDefault'),subtitle:product.get('description'),image_url:image_url,buttons:[{type:\"postback\",title:\"Agregar\",payload:\"AddProduct-\"+product.id},{type:\"postback\",title:'Ver descripcin',payload:\"SendProductDescription-\"+product.id}]});}idx=idx+1;}});return elements;}function renderProducts(recipientId,categoryId,products,index){var elements=splitProducts(recipientId,products,index);var idx=Object.keys(products).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Productos \"+(catIni+1)+\"-\"+catFin,payload:\"SendProducts-\"+categoryId+\"-\"+(index+1)});elements.push({title:\"Ver ms productos \",subtitle:\"Productos disponibles\",buttons:buttons});}var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"generic\",elements:elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderEmptyProducts(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"No existen productos en esta categora\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function createCart(recipientId){var userData=(0,_localStore.getData)(recipientId);Object.assign(userData,{'cart':{items:new Map()}});return userData.cart;}function addProduct(recipientId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(typeof cart=='undefined'){cart=createCart(recipientId);}var items=cart.items;new Parse.Query(_ParseModels.Product).get(productId).then(function(product){var productObject=(0,_parseUtils.extractParseAttributes)(product);var item=items.get(productId);var promises=[];if(typeof item=='undefined'){items.set(productId,{quantity:1,price:productObject.priceDefault});item=items.get(productId);}else{item.quantity+=1;}if(typeof item.modifiers=='undefined'){item.modifiers=[];}if(typeof productObject.modifiers!='undefined'){productObject.modifiers.forEach(function(obj,index,array){promises.push(new Parse.Query(_ParseModels.Modifier).get(obj.objectId).then(function(modifier){return(0,_parseUtils.extractParseAttributes)(modifier);}));});}Parse.Promise.when(promises).then(function(modifiers){var undefinedModifiers=checkModifiers(recipientId,productId,modifiers);console.log(undefinedModifiers);//checkModifiersComplete(recipientId, productId, modifiers).then(result =>{\n//    console.log('result: '+result);\n//});\nif(undefinedModifiers.length>0){//Show multiples modifiers\npromises=[];undefinedModifiers[0].items.forEach(function(modifierItem){promises.push(new Parse.Query(_ParseModels.ModifierItem).get(modifierItem.objectId).then(function(modifierItem){return(0,_parseUtils.extractParseAttributes)(modifierItem);}));});Parse.Promise.when(promises).then(function(modifierItems){renderModifierMenu(recipientId,productId,undefinedModifiers[0],modifierItems);});}else{saveCart(recipientId);renderAddProduct(recipientId,productId);}});},function(object,error){console.log(error);});}function renderAddProduct(recipientId,productId){return new Parse.Query(_ParseModels.Product).get(productId).then(function(product){var messageData={recipient:{id:recipientId},message:{\"text\":\"El producto \"+product.get('name')+\" ha sido agregado.\\n\\nDeseas seguir pidiendo o ver tu carrito?\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);},function(object,error){console.log(error);});}function sendContinueOrder(recipientId){renderContinueOrder(recipientId).then(function(){sendCategories(recipientId,0);});}function renderContinueOrder(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Puedes escribir el nombre de un producto, ej: Ensalada mediterranea, o seleccionarlo en el siguiente men:\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderModifierMenu(recipientId,productId,modifier,items){var quick_replies=[];items.forEach(function(item){if(quick_replies.length<=bot.limit){quick_replies.push({\"content_type\":\"text\",\"title\":item.name,\"payload\":\"AddModifier-\"+productId+\"-\"+modifier.objectId+\"-\"+item.objectId});}});var messageData={recipient:{id:recipientId},message:{\"text\":\"Escoge \"+modifier.name+\":\",\"quick_replies\":quick_replies}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function addModifier(recipientId,productId,modifierId,itemId){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var orderItemModifier=new _ParseModels.OrderItemModifier();orderItemModifier.set('modifier',{__type:\"Pointer\",className:\"Modifier\",objectId:modifierId});orderItemModifier.set('modifierItem',{__type:\"Pointer\",className:\"ModifierItem\",objectId:itemId});//orderItemModifier.set('price', itemId.price)\norderItemModifier.save(undefined,{success:function success(result){item.modifiers.push({__type:\"Pointer\",className:\"OrderItemModifier\",objectId:result.id});saveCart(recipientId);renderAddProduct(recipientId,productId);},error:function error(user,_error4){console.log('Failed to create new object, with error code: '+_error4.message);}});}function checkModifiers(recipientId,productId,modifiers){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var exist=false;var result=[];modifiers.forEach(function(modifier){exist=false;item.modifiers.forEach(function(itemModifier){console.log(itemModifier.objectId);//exist true\n});if(!exist){result.push(modifier);}});return result;}function checkModifiersComplete(recipientId,productId,modifiers){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var promises=[];console.log(modifiers);console.log(modifiers.length);console.log(cart.items);console.log(item);console.log(item.modifiers.length);if(modifiers.length!=item.modifiers.length){promises=[];modifiers.forEach(function(modifier){modifier.items.forEach(function(modifierItem){promises.push(new Parse.Query(_ParseModels.ModifierItem).get(modifierItem.objectId).then(function(modifierItem){return(0,_parseUtils.extractParseAttributes)(modifierItem);}));});return Parse.Promise.when(promises).then(function(elements){renderModifierMenu(recipientId,productId,modifier,elements);return true;});});}}function removeProduct(recipientId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.destroy({});items.delete(productId);var itemsPointers=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=items[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _step4$value=_slicedToArray(_step4.value,2),key=_step4$value[0],value=_step4$value[1];itemsPointers.push({\"__type\":\"Pointer\",\"className\":\"OrderItem\",\"objectId\":value.id});}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}cart.itemsPointers=itemsPointers;if(items.size==0){sendCart(recipientId);}else{sendCartDetails(recipientId);}},error:function error(orderItem,_error5){console.log('error');console.log(_error5);}});}function increaseOneProduct(recipientId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);item.quantity++;new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.set('amount',item.quantity);orderItem.save();sendCartDetails(recipientId);},error:function error(orderItem,_error6){console.log('error');console.log(_error6);}});}function decreaseOneProduct(recipientId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);item.quantity--;if(item.quantity>0){new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.set('amount',item.quantity);orderItem.save();sendCartDetails(recipientId);},error:function error(orderItem,_error7){console.log('error');console.log(_error7);}});}else{removeProduct(recipientId,productId);}}function sendProductDescription(recipientId,productId){var product=new _ParseModels.Product();new Parse.Query(product).get(productId).then(function(product){var messageData={recipient:{id:recipientId},message:{\"text\":product.get('name')+\": \"+product.get('description'),\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Agregar\",\"payload\":\"AddProduct-\"+productId},{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);},function(object,error){console.log(error);});}function saveCart(recipientId){var consumerCart=new _ParseModels.Cart();var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=(0,_localStore.getData)(recipientId,'address');var cart=(0,_localStore.getData)(recipientId,'cart');var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var items=[];var item=void 0;var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=cart.items[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _step5$value=_slicedToArray(_step5.value,2),id=_step5$value[0],properties=_step5$value[1];item=new _ParseModels.OrderItem();if(properties.hasOwnProperty('id')){item.set('id',properties.id);}item.set('product',{__type:\"Pointer\",className:\"Product\",objectId:id});item.set('price',properties.price);item.set('amount',properties.quantity);item.set('modifiers',properties.modifiers);item.set('modifiersGroups',[]);items.push(item);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}Parse.Object.saveAll(items,{success:function success(result){var itemsPointers=[];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=result[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var _item=_step6.value;var itemId=_item.get('product').objectId;cart.items.get(itemId).id=_item.id;itemsPointers.push({\"__type\":\"Pointer\",\"className\":\"OrderItem\",\"objectId\":_item.id});}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}if(cart.hasOwnProperty('id')){consumerCart.set('id',cart.id);}if(typeof paymentMethod!='undefined'){consumerCart.set('paymentMethod',paymentMethod.method);}consumerCart.set('consumerAddress',{__type:\"Pointer\",className:\"ConsumerAddress\",objectId:address.objectId});consumerCart.set('consumer',{__type:\"Pointer\",className:\"Consumer\",objectId:consumer.objectId});consumerCart.set('items',itemsPointers);consumerCart.save(undefined,{success:function success(result){cart['id']=result.id;cart['rawParseObject']=result;cart['itemsPointers']=itemsPointers;},error:function error(user,_error8){console.log('Failed to create new object, with error code: '+_error8.message);}});},error:function error(user,_error9){console.log('Failed to create new object, with error code: '+_error9.message);}});}function saveOrder(recipientId){var order=new _ParseModels.Order();var consumer=(0,_localStore.getData)(recipientId,'consumer');var customer=(0,_localStore.getData)(recipientId,'customer');var cart=(0,_localStore.getData)(recipientId,'cart');var address=(0,_localStore.getData)(recipientId,'address');var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var state0=orderStates.get(0);var total=0;cart.items.forEach(function(value,key){total+=value.quantity*value.price;});order.set('consumer',{__type:'Pointer',className:'Consumer',objectId:consumer.objectId});order.set('consumerAddress',{__type:'Pointer',className:'ConsumerAddress',objectId:address.objectId});order.set('pointSale',{__type:'Pointer',className:'CustomerPointSale',objectId:pointSale.objectId});order.set('state',{__type:'Pointer',className:'OrderState',objectId:state0.objectId});order.set('items',cart.itemsPointers);order.set('deliveryCost',pointSale.deliveryCost);order.set('total',total);order.set('paymentMethod',paymentMethod.method);order.set('name',consumer.name);order.set('email',consumer.email);order.set('phone',consumer.phone);order.set('platform','Bot');order.save(undefined,{success:function success(order){store.dispatch(Actions.setOrder(recipientId,order)).then(function(){clearCart(recipientId);});},error:function error(user,_error10){console.log('Failed to create new object, with error code: '+_error10.message);console.log(_error10);}});}function sendPurchaseOptions(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Tenemos las siguientes opciones disponibles:\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Ver categorias\",\"payload\":\"SendCategories-0\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendEmptyCartOptions(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Tenemos las siguientes opciones disponibles:\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Ver categorias\",\"payload\":\"SendCategories-0\"},{\"content_type\":\"text\",\"title\":\"Mis rdenes\",\"payload\":\"SendOrders\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendCart(recipientId){authentication(recipientId).then(function(){var user=(0,_localStore.getData)(recipientId,'user');var customer=(0,_localStore.getData)(recipientId,'customer');var consumer=(0,_localStore.getData)(recipientId,'consumer');var cart=(0,_localStore.getData)(recipientId,'cart');var address=(0,_localStore.getData)(recipientId,'address');var customer_image_url=void 0;if(typeof customer!='undefined'){customer_image_url=customer.image.url;}if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;bot.sendTypingOn(recipientId);var elements=[];var element={};var total=0;var orderLimit=items.size;var ind=0;var image=void 0;var image_url=void 0;if(orderLimit==0){renderCartEmpty(recipientId).then(function(){sendEmptyCartOptions(recipientId);});}else{items.forEach(function(value,key){var product=new Parse.Query(_ParseModels.Product);product.get(key,{success:function success(item){image=item.get('image');image_url=customer_image_url;if(image){image_url=image.url();}element={};element['title']=item.get('name');element['subtitle']=item.get('description');element['quantity']=value.quantity;element['price']=parseInt(item.get('priceDefault'));element['currency']=\"COP\";element['image_url']=image_url;elements.push(element);total+=element['quantity']*element['price'];ind++;if(ind==orderLimit){renderCart(recipientId,cart.id,elements,total);}},error:function error(_error11){alert(\"Error: \"+_error11.code+\" \"+_error11.message);}});});}});}function renderCart(recipientId,cartId,elements,total){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=(0,_localStore.getData)(recipientId,'address');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var payment_method=(0,_localStore.getData)(recipientId,'payment_method');var addressData=undefined;if(typeof payment_method=='undefined'){payment_method={name:'Sin definir'};}if(typeof address!='undefined'){addressData={street_1:address.address?address.address:'Direccin no definida',street_2:address.description?address.description:'Sin complemento',city:address.city?address.city:'No definida',postal_code:address.postalCode?address.postalCode:'No definido',state:address.state?address.state:'No definido',country:address.countryCode?address.countryCode:'No definido'};}var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"receipt\",recipient_name:user.first_name+\" \"+user.last_name,order_number:cartId,currency:\"COP\",payment_method:payment_method.name,timestamp:Math.trunc(Date.now()/1000).toString(),elements:elements,address:addressData,summary:{subtotal:total,shipping_cost:pointSale.deliveryCost,total_cost:total+pointSale.deliveryCost}}},\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Finalizar pedido\",\"payload\":\"CheckOrder\"},{\"content_type\":\"text\",\"title\":\"Seguir Pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Modificar carrito\",\"payload\":\"SendCartDetails\"},{\"content_type\":\"text\",\"title\":\"Borrar carrito\",\"payload\":\"ClearAndSendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendCartDetails(recipientId){bot.sendTypingOn(recipientId);renderCartDetails(recipientId).then(function(){renderEditCartOptions(recipientId);});}function renderCartDetails(recipientId){var cart=(0,_localStore.getData)(recipientId,'cart');var customer=(0,_localStore.getData)(recipientId,'customer');var consumer=(0,_localStore.getData)(recipientId,'consumer');var image_url=customer.image.url;var items=cart.items;var promises=[];items.forEach(function(value,key){if(promises.length<=bot.limit){promises.push(new Parse.Query(_ParseModels.Product).get(key).then(function(product){var image=product.get('image');if(image){image_url=image.url();}return{\"title\":product.get('name')+\": $\"+value.price,\"subtitle\":\"Cantidad solicitada: \"+value.quantity,\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveProduct-\"+key},{\"type\":\"postback\",\"title\":\"Aumentar 1\",\"payload\":\"IncreaseOneProduct-\"+key},{\"type\":\"postback\",\"title\":\"Disminuir 1\",\"payload\":\"DecreaseOneProduct-\"+key}]};}));}});return Parse.Promise.when(promises).then(function(elements){var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);});}function renderEditCartOptions(recipientId){var messageData={\"recipient\":{\"id\":recipientId},\"message\":{\"text\":\"Opciones del carrito:\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Finalizar pedido\",\"payload\":\"CheckOrder\"},{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"}]}};return bot.callSendAPI(messageData);}function renderCartEmpty(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Tu carrito de compras est vaco.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function editCart(recipientId){var cart=(0,_localStore.getData)(recipientId,'cart');bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":[{\"title\":\"Opciones\",\"image_url\":SERVER_URL+\"assets/thinking.jpg\",\"buttons\":[{\"type\":\"web_url\",\"url\":SERVER_URL+\"cart?\"+cart.id,\"title\":\"Remover producto\",\"webview_height_ratio\":\"full\",\"messenger_extensions\":true}]}]}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function clearCart(recipientId){var cart=(0,_localStore.getData)(recipientId,'cart');if(typeof cart!='undefined'){(function(){var items=cart.items;cart.itemsPointers=[];items.forEach(function(value,key){items.delete(key);});})();}return Parse.Promise.as();}function clearAndSendCart(recipientId){clearCart(recipientId).then(function(){sendCart(recipientId);});}function checkOrder(recipientId){var cart=(0,_localStore.getData)(recipientId,'cart');var consumer=(0,_localStore.getData)(recipientId,'consumer');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var total=0;cart.items.forEach(function(value,key){total+=value.quantity*value.price;});if(pointSale.minOrderPrice&&pointSale.minOrderPrice>total){sendMinOrderPriceRestriction(recipientId);}else if(typeof consumer.phone=='undefined'||consumer.phone==''){setTelephone(recipientId);}else if(typeof consumer.email=='undefined'||consumer.email==''){setEmail(recipientId);}else{checkPayment(recipientId);}}function checkAddress(recipientId){}function checkPayment(recipientId){bot.sendTypingOn(recipientId);store.dispatch(Actions.loadPaymentMethods(recipientId)).then(function(){renderCheckPayment(recipientId);});}function renderCheckPayment(recipientId){var paymentMethods=(0,_localStore.getData)(recipientId,'paymentMethods');var quick_replies=[];for(var i in paymentMethods){quick_replies.push({\"content_type\":\"text\",\"title\":paymentMethods[i].name.substring(0,20),\"payload\":\"Checkout-\"+paymentMethods[i].objectId});}var messageData={recipient:{id:recipientId},message:{\"text\":\"Como vas a pagar tu pedido? (Tu pedido se cobra cuando lo recibes)\",\"quick_replies\":quick_replies}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function checkout(recipientId,id){bot.sendTypingOn(recipientId);store.dispatch(Actions.setPaymentMethod(recipientId,id)).then(function(){var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var paymentFunction=paymentTypes.get(paymentMethod.method.objectId);paymentFunction(recipientId);});}function sendMinOrderPriceRestriction(recipientId){renderMinOrderPriceRestriction(recipientId).then(function(){sendPurchaseOptions(recipientId);});}function renderMinOrderPriceRestriction(recipientId){var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var messageData={recipient:{id:recipientId},message:{\"text\":\"El valor minimo de una orden con domicilio es \"+pointSale.minOrderPrice+\", \\npor favor modifica tu pedido para cumplir este requisito\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendScheduleRestriction(recipientId,pointSaleSchedules){var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var days=['Domingo','Lunes','Martes','Miercoles','Jueves','Viernes','Sabado','Domingo'];var text='En este momento nuestros puntos de venta estan cerrados, \\npor favor solicita tu domicilio en los siguientes horarios:\\n\\n';var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=pointSaleSchedules[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var pointSaleSchedule=_step7.value;var daysActive=pointSaleSchedule.get('daysActive');var allDay=pointSaleSchedule.get('allDay');for(var dayID in daysActive){if(daysActive.length-1!=dayID){text+=days[daysActive[dayID]-1]+\", \";}else{text+=\"y \"+days[daysActive[dayID]-1]+\" \";}}if(allDay){text+='las 24 horas\\n';}else{text+=\"desde las \"+pointSaleSchedule.get('hourStart')+\" \";text+=\"hasta las \"+pointSaleSchedule.get('hourEnd');}text+=\"\\n\";}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}renderScheduleRestriction(recipientId,text).then(function(){sendMenu(recipientId);});}function renderScheduleRestriction(recipientId,text){var messageData={recipient:{id:recipientId},message:{\"text\":text}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendCash(recipientId){saveCart(recipientId);renderCash(recipientId).then(function(){orderConfirmation(recipientId);});}function renderCash(recipientId){var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var messageData={recipient:{id:recipientId},message:{\"text\":\"Se ha registrado el pago con \"+paymentMethod.name}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function registerCreditCard(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":[{\"title\":\"Registro de tarjeta de credito y finalizacin de tu pedido.\\n\\nEstas de acuerdo?\",\"image_url\":SERVER_URL+\"assets/images/creditCards.jpg\",\"subtitle\":\"Por razones de seguridad te redireccionaremos a una pgina web segura.\",\"buttons\":[{\"type\":\"web_url\",\"title\":\"Si\",\"url\":SERVER_URL+\"creditCard?id=\"+consumer.objectId,\"webview_height_ratio\":\"full\",\"messenger_extensions\":true},{\"type\":\"postback\",\"title\":\"No\",\"payload\":\"CancelRegisterCreditCard\"}]}]}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);});}function registerCreditCardAndPay(recipientId){bot.setDataBuffer(recipientId,'creditCardPayload','SendCreditCards');registerCreditCard(recipientId);}function cancelRegisterCreditCard(recipientId){bot.sendTypingOn(recipientId);var userBuffer=bot.buffer[recipientId];renderCancelRegisterCreditCard(recipientId).then(function(){if(typeof userBuffer!='undefined'&&userBuffer.hasOwnProperty('creditCardPayload')){checkPayment(recipientId);}else{sendAccount(recipientId);}});}function renderCancelRegisterCreditCard(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Si no ingresas los datos de tu tarjeta en nuestro sitio seguro, no podras comprar con tarjeta online\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendRegisteredCreditCards(recipientId){bot.sendTypingOn(recipientId);var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');_ParseModels.CreditCard.loadInStore(store,recipientId,user).then(function(){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');if(creditCards.length==0){renderNoRegisteredCreditCards(recipientId);}else{renderRegisteredCreditCards(recipientId);}});}function renderNoRegisteredCreditCards(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Aun no tienes tarjetas registradas, deseas registrar una tarjeta?\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Si\",\"payload\":\"RegisterCreditCardAndPay\"},{\"content_type\":\"text\",\"title\":\"No\",\"payload\":\"CheckPayment\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderRegisteredCreditCards(recipientId){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');var quick_replies=[];quick_replies.push({\"content_type\":\"text\",\"title\":\"Agregar tarjeta\",\"payload\":\"RegisterCreditCardAndPay\"});var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=creditCards[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var card=_step8.value;if(quick_replies.length<bot.limit){quick_replies.push({\"content_type\":\"text\",\"title\":card.type+\" \"+card.lastFour,\"payload\":\"PayWithCreditCard-\"+card.lastFour});}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}var messageData={recipient:{id:recipientId},message:{\"text\":\"Con cual tarjeta quieres pagar?\",\"quick_replies\":quick_replies}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function payWithCreditCard(recipientId,creditCardId){bot.sendTypingOn(recipientId);orderConfirmation(recipientId);}function orderConfirmation(recipientId){bot.sendTypingOn(recipientId);saveOrder(recipientId);renderOrderConfirmation(recipientId).then(function(){bot.sendTypingOff(recipientId);});}function renderOrderConfirmation(recipientId){var state0=orderStates.get(0);var messageData={recipient:{id:recipientId},message:{\"text\":state0.messagePush+\"\\n\\nEn un momento te estaremos dando informacin en tiempo real sobre tu pedido\"}};return bot.callSendAPI(messageData);}function orderState(recipientId){bot.sendTypingOn(recipientId);renderOrderState(recipientId).then(function(){orderSent(recipientId);});}function renderOrderState(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Tu pedido ha sido Aceptado. \\n\\nLo estan preparando en nuestra sede y te lo enviaremos en aproximadamente 10 minutos\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function orderSent(recipientId){bot.sendTypingOn(recipientId);renderOrderSent(recipientId).then(function(){serviceRating(recipientId);});}function renderOrderSent(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Buenas noticias, Tu pedido ha sido Enviado. \\n\\nHaz click en el mapa para vel tu pedido\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendOrderState(recipientId){var orderState=(0,_localStore.getData)(recipientId,'orderState');bot.sendTypingOn(recipientId);renderOrderState(recipientId).then(function(){if(orderState.order==5){serviceRating(recipientId);}});}function renderOrderState(recipientId){var orderState=(0,_localStore.getData)(recipientId,'orderState');if(orderState.order==6){return Parse.Promise.as();}else{var messageData={recipient:{id:recipientId},message:{\"text\":orderState.messagePush}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}}function serviceRating(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Califica tu experiencia para ayudarnos a mejorar. \\n\\nDe 1 a 5 cuantas extrellas merece nuestro servicio?\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"5 (Excelente)\",\"payload\":\"SetScore-5\"},{\"content_type\":\"text\",\"title\":\"4 (Bien)\",\"payload\":\"SetScore-4\"},{\"content_type\":\"text\",\"title\":\"3 (Regular)\",\"payload\":\"SetScore-3\"},{\"content_type\":\"text\",\"title\":\"2 (Mal)\",\"payload\":\"SetScore-2\"},{\"content_type\":\"text\",\"title\":\"2 (Muy mal)\",\"payload\":\"SetScore-1\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function setScore(recipientId,score){var order=(0,_localStore.getData)(recipientId,'order');bot.sendTypingOn(recipientId);Parse.Cloud.run('rateOrder',{orderId:order.objectId,score:Number(score),comment:''}).then(function(result){thank(recipientId);},function(error){console.log('error');console.log(error);});}function thank(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Gracias, esperamos tener el gusto de atenderle nuevamente\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function searchProducts(recipientId,query,index){bot.sendTypingOn(recipientId);Parse.Cloud.run('search',{businessId:BUSINESS_ID,q:query}).then(function(result){if(result.length==0){renderSearchEmpty(recipientId);}else if(result.length==1&&result[0].type=='Category'){sendProducts(recipientId,result[0].id,0);}else{if(index==undefined)index=0;else if(typeof index=='string')index=parseInt(index);if(index==0){renderSearchInitial(recipientId);bot.sendTypingOn(recipientId);}splitSearchResult(recipientId,result,index).then(function(elements){var idx=Object.keys(result).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Productos \"+(catIni+1)+\"-\"+catFin,payload:\"Search-\"+(index+1)});elements.push({title:\"Ver ms productos \",subtitle:\"Productos disponibles\",buttons:buttons});}var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"generic\",elements:elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);});}},function(error){console.log('error');console.log(error);});}function renderSearchInitial(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Se han encontrado los siguientes productos:\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderSearchEmpty(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"No se han encontrado productos que coincidan\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function splitSearchResult(recipientId,products,index){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];var promises=[];products.forEach(function(item){if(item&&item.name&&item.type=='Product'){if(idx>=index*bot.limit&&idx<(index+1)*bot.limit){promises.push(new Parse.Query(_ParseModels.Product).get(item.id).then(function(product){return(0,_parseUtils.extractParseAttributes)(product);}));idx=idx+1;}}});return Parse.Promise.when(promises).then(function(productObjects){productObjects.forEach(function(product){var image=product.image;image_url=typeof image!='undefined'?image.url:customer.image.url;elements.push({title:product.name+\": $\"+product.priceDefault,subtitle:product.description,image_url:image_url,buttons:[{type:\"postback\",title:'Agregar',payload:\"AddProduct-\"+product.objectId},{type:\"postback\",title:'Ver descripcin',payload:\"SendProductDescription-\"+product.objectId}]});});return elements;});//    subtitle: item.get('description'),\n}function sendHelp(recipientId){bot.sendTypingOn(recipientId);renderHelp(recipientId).then(function(){sendContactUs(recipientId);});}function renderHelp(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"InOut Bot.\\n\\nTe permite visualizar las opciones de productos, agregarlos al carrito y realizar tu compra por medio del chat de facebook.\\n\\nFuncionalidades disponibles: \\n\\n'Hola', para iniciar la conversacin\\n'Pedir Domicilio', si quieres realizar un domicilio\\n'Carrito', para ver el estado actual de tu carrito\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendContactUs(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\" Para mayor informacin puedes contactarnos en:\\n\\n Web: http://www.inoutdelivery.com/\\n\\n Email: soporte@inoutdelivery.com\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendOrders(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');Parse.Cloud.run('ordersBot',{businessId:BUSINESS_ID,consumerId:consumer.objectId}).then(function(orders){store.dispatch(Actions.setOrders(recipientId,orders)).then(function(){renderOrders(recipientId);});}).fail(function(error){console.log('error');console.log(error);});});}function renderOrders(recipientId){var customer=(0,_localStore.getData)(recipientId,'customer');var orders=(0,_localStore.getData)(recipientId,'orders');var elements=[];elements.push({\"title\":\"Nueva orden\",\"subtitle\":\"Puedes realizar una orden\",\"image_url\":SERVER_URL+\"assets/conversation.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva orden\",\"payload\":\"NewOrder\"}]});var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=orders.ongoing[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var order=_step9.value;if(elements.length<bot.limit){var datetime=_datetimeConverterNodejs2.default.dateString(order.createdAt);var image_url=customer.image.url;var title=order.orderNumber?'Orden: '+order.orderNumber:'Orden: '+(0,_dateformat2.default)(datetime,\"h:MM:ss TT dd/mm/yyyy\");elements.push({\"title\":title,\"subtitle\":'Estado: '+order.state.name+', Valor: $'+order.total,\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Ver orden\",\"payload\":\"SendOrder-\"+order.objectId},{\"type\":\"postback\",\"title\":\"Cancelar orden\",\"payload\":\"CancelOrder-\"+order.objectId}]});}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendOrder(recipientId,id){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){var orders=(0,_localStore.getData)(recipientId,'orders');var customer=(0,_localStore.getData)(recipientId,'customer');var customer_image_url=customer.image.url;var currentOrder=void 0;var elements=[];var element=void 0;var image_url=void 0;var product=void 0;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=orders.ongoing[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var order=_step10.value;if(order.objectId==id){currentOrder=order;}}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=currentOrder.items[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var item=_step11.value;product=item.product;image_url=customer_image_url;if(product.image){image_url=product.image.url;}element={};element['title']=product.name;element['quantity']=item.amount;element['price']=item.price;element['currency']=\"COP\";element['image_url']=image_url;elements.push(element);}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}renderOrder(recipientId,currentOrder,elements);});}function renderOrder(recipientId,order,elements){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=order.consumerAddress;var pointSale=order.pointSale;var payment_method=order.paymentMethod;var addressData=undefined;if(typeof payment_method=='undefined'){payment_method={name:'Sin definir'};}if(typeof address!='undefined'){addressData={street_1:address.address?address.address:'Direccin no definida',street_2:address.description?address.description:'Sin complemento',city:address.city?address.city:'No definida',postal_code:address.postalCode?address.postalCode:'No definido',state:address.state?address.state:'No definido',country:address.countryCode?address.countryCode:'No definido'};}var messageData={recipient:{id:recipientId},message:{attachment:{type:\"template\",payload:{template_type:\"receipt\",recipient_name:user.first_name+\" \"+user.last_name,order_number:order.objectId,currency:\"COP\",payment_method:payment_method.name,timestamp:Math.trunc(Date.now()/1000).toString(),elements:elements,address:addressData,summary:{subtotal:order.total,shipping_cost:pointSale.deliveryCost,total_cost:order.total+pointSale.deliveryCost}}},\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Nueva orden\",\"payload\":\"NewOrder\"},{\"content_type\":\"text\",\"title\":\"Ver rdenes\",\"payload\":\"SendOrders\"},{\"content_type\":\"text\",\"title\":\"Cancelar orden\",\"payload\":\"CancelOrder-\"+order.objectId}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function newOrder(recipientId){clearCart(recipientId).then(function(){sendCart(recipientId);sendAddressesWithTitle(recipientId);});}function cancelOrder(recipientId,id){Parse.Cloud.run('changeStatusOrder',{status:\"canceledByUser\",orderId:id}).then(function(){renderCancelOrder(recipientId).then(function(){sendOrders(recipientId);});}).fail(function(error){console.log('error');console.log(error);});}function renderCancelOrder(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"La orden ha sido cancelada.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function sendAccount(recipientId){bot.sendTypingOn(recipientId);authentication(recipientId).then(function(){renderAccount(recipientId);});}function renderAccount(recipientId){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var elements=[{\"title\":'Ver direcciones',\"subtitle\":'Editar y eliminar direcciones',\"image_url\":SERVER_URL+\"assets/thinking.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":'Ver direcciones',\"payload\":\"SendAddresses\"}]},{\"title\":'Ver tarjetas de credito',\"subtitle\":'Editar y eliminar tarjetas de credito',\"image_url\":SERVER_URL+\"assets/money.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":'Ver tarjetas',\"payload\":\"SendCreditCards\"}]}];var messageData={recipient:{id:recipientId},message:{\"attachment\":{\"type\":\"template\",\"payload\":{\"template_type\":\"generic\",\"elements\":elements}}}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function renderYouAreWelcome(recipientId){bot.sendTypingOff(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"De nada, gracias por usar nuestros servicios\"}};return bot.callSendAPI(messageData);}function addCreditCard(recipientId,token,data){console.log('addCreditCard');var expiration=data['expiry'].replace(/\\s+/g,\"\").split('/');return(0,_requestPromise2.default)({uri:PARSE_SERVER_URL+'/functions/addCreditCard',headers:{'Content-Type':'text/plain;charset=UTF-8','X-Parse-Application-Id':PARSE_APP_ID,'X-Parse-Session-Token':token},method:'POST',json:{\"number\":data['number'].replace(/\\s+/g,\"\"),\"holderName\":data['holderName'],\"verificationNumber\":data['cvc'],\"expirationMonth\":expiration[0],\"expirationYear\":expiration[1]}}).then(function(body){(0,_requestPromise2.default)({uri:SERVER_URL+'creditCardRegistered',method:'POST',json:{\"recipientId\":recipientId}});}).catch(function(error){console.log('error');console.log(error);});}function createOrder(recipientId){var userData=(0,_localStore.getData)(recipientId);Object.assign(userData,{'order':new Map()});return(0,_localStore.getData)(recipientId,'order');}function checkSchedulesDeliveryPointSale(recipientId){var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var params={pointSale:pointSale.objectId,date:new Date().toJSON().slice(0,10)};return Parse.Cloud.run('getSchedulesDeliveryPointSale',params).then(function(result){return result;}).fail(function(error){console.log('Error code: '+error.message);});}function renderShoppingCartOptions(recipientId){var messageData={recipient:{id:recipientId},message:{\"text\":\"Opciones del carrito\",\"quick_replies\":[{\"content_type\":\"text\",\"title\":\"Finalizar pedido\",\"payload\":\"CheckOrder\"},{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Borrar carrito\",\"payload\":\"ClearAndSendCart\"}]}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}function updateCart(recipientId){var consumerCart=new _ParseModels.Cart();var localCart=(0,_localStore.getData)(recipientId,'cart');new Parse.Query(consumerCart).get(localCart.id).then(function(cart){console.log(cart);},function(object,error){console.log(error);});}function setPayment(recipientId,id){}function sendRegisterFacebookUser(recipientId){bot.sendTypingOn(recipientId);var messageData={recipient:{id:recipientId},message:{\"text\":\"Registro exitoso.\"}};bot.sendTypingOff(recipientId);return bot.callSendAPI(messageData);}bot.app.get('/login',function(req,res){res.sendFile(_path2.default.join(__dirname+'/views/login.html'));});bot.app.post('/registerUser',function(req,res){var data=req.body;signUp(data.psid,data.uid,data.accessToken).then(function(user){sendMenu(data.psid);});res.status(200).end();});bot.app.get('/creditCard',function(req,res){console.log('creditCard');res.sendFile(_path2.default.join(__dirname+'/views/cardForm.html'));});bot.app.post('/registerCreditCard',function(req,res){console.log('registerCreditCard');var data=req.body;var consumerID=data['consumerID'];new Parse.Query(_ParseModels.Consumer).get(consumerID).then(function(consumer){if(consumer){new Parse.Query(_ParseModels.User).get(consumer.get('user').id).then(function(user){var username=user.get('username');var recipientId=consumer.get('conversationId');Parse.User.logIn(username,username,{success:function success(userData){addCreditCard(recipientId,userData.getSessionToken(),data);},error:function error(user,_error12){console.log('error');console.log(_error12);}});});res.sendFile(_path2.default.join(__dirname+'/views/cardRegistered.html'));}},function(object,error){console.log(error);});});bot.app.post('/creditCardRegistered',function(req,res){console.log('creditCardRegistered');var data=req.body;var userBuffer=bot.buffer[data.recipientId];if(typeof userBuffer!='undefined'){if(userBuffer.creditCardPayload=='SendCreditCards'){sendRegisteredCreditCards(data.recipientId);delete userBuffer.creditCardPayload;}else{sendCreditCards(data.recipientId);}}else{sendCreditCards(data.recipientId);}});bot.app.post('/changeOrderState',function(req,res){console.log('changeOrderState');var data=req.body;new Parse.Query(_ParseModels.Consumer).get(data['consumerID']).then(function(consumer){if(consumer){new Parse.Query(_ParseModels.User).get(consumer.get('user').id).then(function(user){var username=user.get('username');var recipientId=consumer.get('conversationId');new Parse.Query(_ParseModels.OrderState).get(data['stateID']).then(function(orderState){store.dispatch(Actions.setOrderState(recipientId,orderState)).then(function(){sendOrderState(recipientId);});}).fail(function(error){console.log('Error code: '+error.message);});});}},function(object,error){console.log(error);});res.json({result:'OK'});});var paymentTypes=new Map();new Parse.Query(_ParseModels.PaymentMethod).find().then(function(methods){var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=methods[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var method=_step12.value;var tmpMethod=(0,_parseUtils.extractParseAttributes)(method);if(tmpMethod.objectId=='Nn0joKC5VK'){paymentTypes.set('Nn0joKC5VK',sendCash);}else if(tmpMethod.objectId=='UdK0Ifc4IF'){paymentTypes.set('UdK0Ifc4IF',sendCash);}else if(tmpMethod.objectId=='CHzoYrEtiY'){paymentTypes.set('CHzoYrEtiY',sendRegisteredCreditCards);}}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}},function(object,error){console.log(error);});var orderStates=new Map();orderStates.set('Nn0joKC5VK',sendCash);new Parse.Query(_ParseModels.OrderState).find().then(function(states){var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=states[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var state=_step13.value;orderStates.set(state.get('order'),(0,_parseUtils.extractParseAttributes)(state));}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}},function(object,error){console.log(error);});var creditCardImages=new Map();creditCardImages.set('VISA','assets/images/visaCard.jpg');creditCardImages.set('MASTERCARD','assets/images/masterCard.jpg');creditCardImages.set('AMERICAN','assets/images/americanCard.jpg');creditCardImages.set('DEFAULT','assets/images/creditCards.jpg');store.dispatch({type:types.APP_LOADED});module.exports={store:store,getData:_localStore.getData};//# sourceMappingURL=app-compiled.js.map"]}