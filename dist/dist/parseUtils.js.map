{"version":3,"sources":["../parseUtils.js"],"names":["Object","defineProperty","exports","value","extractParseAttributes","unsetRawParseObjects","_objectAssign","require","_objectAssign2","_interopRequireDefault","obj","__esModule","default","object","Parse","attributes","toJSON","result","id","objectId","keys","forEach","key","length","Array","map","o","parseObject","rawParseObject","GeoPoint","__type","lat","latitude","lng","longitude","unset","get","items","set","add"],"mappings":"AAAA,aAAaA,OAAOC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,CAA2C,CAACC,MAAM,IAAP,CAA3C,EAAyDD,QAAQE,sBAAR,CAA+BA,sBAA/B,CAAsDF,QAAQG,oBAAR,CAA6BA,oBAA7B,CAAkD,GAAIC,eAAcC,QAAQ,eAAR,CAAlB,CAA2C,GAAIC,gBAAeC,uBAAuBH,aAAvB,CAAnB,CAAyD,QAASG,uBAAT,CAAgCC,GAAhC,CAAoC,CAAC,MAAOA,MAAKA,IAAIC,UAAT,CAAoBD,GAApB,CAAwB,CAACE,QAAQF,GAAT,CAA/B,CAA8C,SAASN,uBAAT,CAAgCS,MAAhC,CAAuC,CAAC,GAAG,EAAEA,iBAAkBC,OAAMd,MAA1B,CAAH,CAAqC,CAAC,MAAOa,OAAP,CAAe,IAAIE,YAAWF,OAAOG,MAAP,EAAf,CAA+B,GAAIC,QAAO,EAAX,CAAc,CAAC,EAAET,eAAeI,OAAlB,EAA2BK,MAA3B,CAAkC,CAACC,GAAGL,OAAOM,QAAX,CAAlC,CAAuDJ,UAAvD,EAAmEf,OAAOoB,IAAP,CAAYL,UAAZ,EAAwBM,OAAxB,CAAgC,SAASC,GAAT,CAAa,CAAC,GAAGL,OAAOK,GAAP,GAAaL,OAAOK,GAAP,EAAYC,MAAzB,EAAiCN,OAAOK,GAAP,WAAsBE,MAA1D,CAAgE,CAACP,OAAOK,GAAP,EAAYL,OAAOK,GAAP,EAAYG,GAAZ,CAAgB,SAASC,CAAT,CAAW,CAAC,MAAOtB,wBAAuBsB,CAAvB,CAAP,CAAkC,CAA9D,CAAZ,CAA6E,IAAGT,OAAOK,GAAP,WAAsBR,OAAMd,MAA5B,EAAoCsB,KAAK,gBAA5C,CAA6D,CAAC,GAAIK,aAAYV,OAAOK,GAAP,CAAhB,CAA4BL,OAAOK,GAAP,EAAYlB,uBAAuBa,OAAOK,GAAP,CAAvB,CAAZ,CAAgDL,OAAOK,GAAP,EAAYM,cAAZ,CAA2BD,WAA3B,CAAwC,IAAGV,OAAOK,GAAP,WAAsBR,OAAMe,QAA5B,EAAsCZ,OAAOK,GAAP,GAAaL,OAAOK,GAAP,EAAYQ,MAAZ,EAAoB,UAA1E,CAAqF,CAACb,OAAOK,GAAP,EAAY,CAACS,IAAId,OAAOK,GAAP,EAAYU,QAAjB,CAA0BC,IAAIhB,OAAOK,GAAP,EAAYY,SAA1C,CAAZ,CAAkE,CAAC,CAAvgB,EAAygBjB,OAAOW,cAAP,CAAsBf,MAAtB,CAA6B,MAAOI,OAAP,CAAe;;EAErmC;AACF,QAASZ,qBAAT,CAA8BQ,MAA9B,CAAqC,CAAC,GAAG,EAAEA,iBAAkBC,OAAMd,MAA1B,CAAH,CAAqC,CAAC,MAAOa,OAAP,CAAe,QAAOsB,KAAP,CAAa,gBAAb,EAA+BnC,OAAOoB,IAAP,CAAYP,OAAOE,UAAnB,EAA+BM,OAA/B,CAAuC,SAASC,GAAT,CAAa,CAAC,GAAGT,OAAOuB,GAAP,CAAWd,GAAX,WAA0BE,MAA7B,CAAmC,CAAC,GAAIa,OAAMxB,OAAOuB,GAAP,CAAWd,GAAX,CAAV,CAA0BT,OAAOyB,GAAP,CAAWhB,GAAX,CAAe,EAAf,EAAmBe,MAAMhB,OAAN,CAAc,SAASK,CAAT,CAAW,CAACrB,qBAAqBqB,CAArB,EAAwBb,OAAO0B,GAAP,CAAWjB,GAAX,CAAeI,CAAf,EAAmB,CAArE,EAAwE,IAAGb,OAAOuB,GAAP,CAAWd,GAAX,GAAiBT,OAAOuB,GAAP,CAAWd,GAAX,EAAgBM,cAApC,CAAmD,CAACf,OAAOyB,GAAP,CAAWhB,GAAX,CAAeT,OAAOuB,GAAP,CAAWd,GAAX,EAAgBM,cAA/B,EAA+CvB,qBAAqBQ,OAAOuB,GAAP,CAAWd,GAAX,CAArB,EAAuC,CAAC,CAAzV,EAA4V","file":"parseUtils.js","sourcesContent":["'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.extractParseAttributes=extractParseAttributes;exports.unsetRawParseObjects=unsetRawParseObjects;var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function extractParseAttributes(object){if(!(object instanceof Parse.Object)){return object;}var attributes=object.toJSON();var result={};(0,_objectAssign2.default)(result,{id:object.objectId},attributes);Object.keys(attributes).forEach(function(key){if(result[key]&&result[key].length&&result[key]instanceof Array){result[key]=result[key].map(function(o){return extractParseAttributes(o);});}if(result[key]instanceof Parse.Object&&key!='rawParseObject'){var parseObject=result[key];result[key]=extractParseAttributes(result[key]);result[key].rawParseObject=parseObject;}if(result[key]instanceof Parse.GeoPoint||result[key]&&result[key].__type==\"GeoPoint\"){result[key]={lat:result[key].latitude,lng:result[key].longitude};}});result.rawParseObject=object;return result;}/**\n* Map ParseObject to JSON recursively\n*///import Parse from 'parse'\nfunction unsetRawParseObjects(object){if(!(object instanceof Parse.Object)){return object;}object.unset('rawParseObject');Object.keys(object.attributes).forEach(function(key){if(object.get(key)instanceof Array){var items=object.get(key);object.set(key,[]);items.forEach(function(o){unsetRawParseObjects(o);object.add(key,o);});}if(object.get(key)&&object.get(key).rawParseObject){object.set(key,object.get(key).rawParseObject);unsetRawParseObjects(object.get(key));}});}"]}