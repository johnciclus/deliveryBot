{"version":3,"sources":["../app.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_extends","assign","target","arguments","source","key","hasOwnProperty","call","_bot","require","bot","_interopRequireWildcard","_actionTypes","types","_index","Actions","_parseUtils","_localStore","_ParseModels","_config","_config2","_interopRequireDefault","_requestPromise","_requestPromise2","_promise","_promise2","_objectAssign","_objectAssign2","_geocoder","_geocoder2","_path","_path2","_datetimeConverterNodejs","_datetimeConverterNodejs2","_dateformat","_dateformat2","__esModule","default","newObj","SERVER_URL","process","env","get","PARSE_APP_ID","PARSE_SERVER_URL","PARSE_CLIENT_KEY","FACEBOOK_APP_ID","GOOGLE_MAPS_URL","GOOGLE_MAPS_KEY","BUSINESS","rules","set","sendMenu","sendAddressesWithTitle","sendCart","sendOrders","sendAddresses","newAddress","sendAccount","sendCreditCards","registerCreditCard","sendHelp","sendYouAreWelcome","payloadRules","setAddressComplement","confirmAddress","setAddress","editAddress","removeAddress","sendCategories","sendProducts","addProduct","addModifier","removeProduct","increaseOneProduct","decreaseOneProduct","sendProductDescription","sendContinueOrder","searchProducts","sendCartDetails","editCart","clearCart","clearAndSendCart","sendPurchaseOptions","checkout","checkPayment","checkAddress","checkOrder","registerCreditCardAndPay","sendRegisteredCreditCards","cancelRegisterCreditCard","payWithCreditCard","sendOrder","newOrder","cancelOrder","removeCreditCard","setScore","defaultSearch","initialState","userData","paymentTypes","sendCash","creditCardImages","reducer","state","action","console","log","data","recipientId","type","APP_LOADED","app","CUSTOMER_LOADED","customer","extractParseAttributes","CONSUMER_LOADED","consumer","USER_LOADED","user","CONSUMER_ADDRESSES_LOADED","addresses","map","a","SET_CURRENT_ADDRESS","address","PAYMENT_METHODS_LOADED","paymentMethods","p","SET_PAYMENT_METHOD","paymentMethod","SET_ORDERS","ongoing","orders","delivered","CONSUMER_UPDATED","CONSUMER_NOT_FOUND","CONSUMER_ORDERS_LOADED","USER_CREDITCARDS_LOADED","creditCards","SET_CUSTOMER_POINT_SALE","pointSale","SET_ORDER","order","SET_USER","_user","SET_CONSUMER","_consumer","SET_CUSTOMER","_customer","SET_ORDER_STATE","orderState","createLocalStore","req","res","sendFile","join","__dirname","post","body","signUp","psid","uid","accessToken","then","status","end","consumerID","Parse","Query","Consumer","User","id","username","senderId","logIn","success","addCreditCard","getSessionToken","error","_error","object","userBuffer","buffer","creditCardPayload","OrderState","store","dispatch","setOrderState","sendOrderState","fail","message","json","result","facebookId","conversationToken","createUser","userObject","getData","rawParseObject","createConsumer","resolve","reject","login","password","_error2","authentication","getCustomer","getUser","PAGE_ACCESS_TOKEN","getConsumer","Customer","loadInStore","BUSINESS_ID","userObj","consumerObj","sendSignUp","image_url","sendTypingOn","sendTypingOff","sendGenericMessage","image","url","first_name","name","sendTextMessage","ConsumerAddress","elements","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","limit","description","city","location","lat","lng","objectId","return","getState","creditCardsImages","CreditCard","creditCardImage","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","creditCard","lastFour","cardHolderName","setDataBuffer","writeAddress","setListener","addressCheck","setLocationCheck","sendQuickReplyMessage","sendNullMapMessage","sendMap","sendImageMessage","sendMapConfirmation","geocode","setAddressComponetsInBuffer","results","formatted_address","geometry","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","address_components","_step3","component","includes","route","long_name","street_number","short_name","locality","administrative_area","country","country_code","postal_code","addressPayload","saveAddress","startsWith","split","GeoPoint","latitude","parseFloat","longitude","consumerAddress","complement","save","_error3","address_name","__type","className","_error4","setEmail","setEmailCheck","email","saveInStore","setTelephone","setTelephoneCheck","setPhone","telephone","reverseGeocode","Cloud","run","businessId","setCustomerPointSale","code","destroy","index","pointSaleIsOpen","parseInt","sendCategoriesDetail","categories","sendScheduleRestriction","pointSaleSchedules","splitCategories","idx","forEach","item","title","buttons","payload","keys","catIni","catFin","subtitle","categoryId","proIdx","Category","category","getProducts","products","sendProductsDetail","splitProducts","product","createCart","items","Map","cart","productId","Product","productObject","promises","quantity","price","priceDefault","modifiers","array","Modifier","modifier","Promise","when","undefinedModifiers","checkModifiers","modifierItem","ModifierItem","modifierItems","sendModifierMenu","saveCart","sendAddProductNenu","quick_replies","modifierId","itemId","orderItemModifier","OrderItemModifier","_error5","exist","itemModifier","checkModifiersComplete","OrderItem","orderItem","delete","itemsPointers","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_step4$value","size","_error6","_error7","_error8","consumerCart","Cart","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_step5$value","properties","saveAll","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_item","method","_error9","_error10","saveOrder","getOrderState","Order","total","deliveryCost","phone","setOrder","_error11","sendEmptyCartOptions","customer_image_url","element","orderLimit","ind","sendCartReceipt","_error12","alert","cartId","payment_method","addressData","street_1","street_2","postalCode","countryCode","sendReceiptMessage","template_type","recipient_name","last_name","order_number","currency","timestamp","Math","trunc","Date","now","toString","summary","subtotal","shipping_cost","total_cost","sendEditCartOptions","minOrderPrice","sendMinOrderPriceRestriction","loadPaymentMethods","substring","setPaymentMethod","paymentFunction","days","text","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","pointSaleSchedule","daysActive","allDay","dayID","orderConfirmation","_ret2","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_iterator8","_step8","card","v","creditCardId","messagePush","sendorderMapState","sendserviceRating","deliveryTime","score","orderId","Number","comment","thank","query","q","renderSearchEmpty","renderSearchInitial","splitSearchResult","productObjects","renderHelp","sendContactUs","consumerId","setOrders","renderOrders","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_iterator9","_step9","datetime","dateString","createdAt","orderNumber","currentOrder","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_iterator10","_step10","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_iterator11","_step11","amount","renderOrder","renderAccount","token","expiration","replace","uri","headers","catch","response","JSON","stringify","orderStateNumber","equalTo","find","exports"],"mappings":"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","file":"app.js","sourcesContent":["'use strict';var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _bot=require('./bot');var bot=_interopRequireWildcard(_bot);var _actionTypes=require('./constants/actionTypes');var types=_interopRequireWildcard(_actionTypes);var _index=require('./actions/index');var Actions=_interopRequireWildcard(_index);var _parseUtils=require('./parseUtils');var _localStore=require('./localStore');var _ParseModels=require('./models/ParseModels');var _config=require('config');var _config2=_interopRequireDefault(_config);var _requestPromise=require('request-promise');var _requestPromise2=_interopRequireDefault(_requestPromise);var _promise=require('promise');var _promise2=_interopRequireDefault(_promise);var _objectAssign=require('object-assign');var _objectAssign2=_interopRequireDefault(_objectAssign);var _geocoder=require('geocoder');var _geocoder2=_interopRequireDefault(_geocoder);var _path=require('path');var _path2=_interopRequireDefault(_path);var _datetimeConverterNodejs=require('datetime-converter-nodejs');var _datetimeConverterNodejs2=_interopRequireDefault(_datetimeConverterNodejs);var _dateformat=require('dateformat');var _dateformat2=_interopRequireDefault(_dateformat);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}var SERVER_URL=process.env.SERVER_URL?process.env.SERVER_URL:_config2.default.get('SERVER_URL');var PARSE_APP_ID=process.env.PARSE_APP_ID?process.env.PARSE_APP_ID:_config2.default.get('PARSE_APP_ID');var PARSE_SERVER_URL=process.env.PARSE_SERVER_URL?process.env.PARSE_SERVER_URL:_config2.default.get('PARSE_SERVER_URL');var PARSE_CLIENT_KEY=process.env.PARSE_CLIENT_KEY?process.env.PARSE_CLIENT_KEY:_config2.default.get('PARSE_CLIENT_KEY');var FACEBOOK_APP_ID=process.env.FACEBOOK_APP_ID?process.env.FACEBOOK_APP_ID:_config2.default.get('FACEBOOK_APP_ID');var GOOGLE_MAPS_URL=process.env.GOOGLE_MAPS_URL?process.env.GOOGLE_MAPS_URL:_config2.default.get('GOOGLE_MAPS_URL');var GOOGLE_MAPS_KEY=process.env.GOOGLE_MAPS_KEY?process.env.GOOGLE_MAPS_KEY:_config2.default.get('GOOGLE_MAPS_KEY');var BUSINESS=_config2.default.get('BUSINESS');bot.rules.set('hola',sendMenu);bot.rules.set('iniciar',sendMenu);bot.rules.set('empezar',sendMenu);bot.rules.set('comenzar',sendMenu);bot.rules.set('buenos dias',sendMenu);bot.rules.set('buenas tardes',sendMenu);bot.rules.set('menú',sendMenu);bot.rules.set('pedir domicilio',sendAddressesWithTitle);bot.rules.set('carrito',sendCart);bot.rules.set('cuenta',sendCart);bot.rules.set('mi orden',sendOrders);bot.rules.set('mis órdenes',sendOrders);bot.rules.set('mi dirección',sendAddresses);bot.rules.set('mis direcciones',sendAddresses);bot.rules.set('nueva dirección',newAddress);bot.rules.set('agregar dirección',newAddress);bot.rules.set('mi cuenta',sendAccount);bot.rules.set('mi tarjeta',sendCreditCards);bot.rules.set('mis tarjetas',sendCreditCards);bot.rules.set('nueva tarjeta',registerCreditCard);bot.rules.set('agregar tarjeta',registerCreditCard);bot.rules.set('ayuda',sendHelp);bot.rules.set('help',sendHelp);bot.rules.set('gracias',sendYouAreWelcome);bot.payloadRules.set('Greeting',sendMenu);bot.payloadRules.set('SendAddressesWithTitle',sendAddressesWithTitle);bot.payloadRules.set('SendAddresses',sendAddresses);bot.payloadRules.set('NewAddress',newAddress);bot.payloadRules.set('SetAddressComplement',setAddressComplement);bot.payloadRules.set('ConfirmAddress',confirmAddress);bot.payloadRules.set('SetAddress',setAddress);bot.payloadRules.set('EditAddress',editAddress);bot.payloadRules.set('RemoveAddress',removeAddress);bot.payloadRules.set('SendCategories',sendCategories);bot.payloadRules.set('SendProducts',sendProducts);bot.payloadRules.set('AddProduct',addProduct);bot.payloadRules.set('AddModifier',addModifier);bot.payloadRules.set('RemoveProduct',removeProduct);bot.payloadRules.set('IncreaseOneProduct',increaseOneProduct);bot.payloadRules.set('DecreaseOneProduct',decreaseOneProduct);bot.payloadRules.set('SendProductDescription',sendProductDescription);bot.payloadRules.set('SendContinueOrder',sendContinueOrder);bot.payloadRules.set('Search',searchProducts);bot.payloadRules.set('SendCart',sendCart);bot.payloadRules.set('SendCartDetails',sendCartDetails);bot.payloadRules.set('EditCart',editCart);bot.payloadRules.set('ClearCart',clearCart);bot.payloadRules.set('ClearAndSendCart',clearAndSendCart);bot.payloadRules.set('SendPurchaseOptions',sendPurchaseOptions);bot.payloadRules.set('Checkout',checkout);bot.payloadRules.set('CheckPayment',checkPayment);bot.payloadRules.set('CheckAddress',checkAddress);bot.payloadRules.set('CheckOrder',checkOrder);bot.payloadRules.set('RegisterCreditCard',registerCreditCard);bot.payloadRules.set('RegisterCreditCardAndPay',registerCreditCardAndPay);bot.payloadRules.set('SendRegisteredCreditCards',sendRegisteredCreditCards);bot.payloadRules.set('CancelRegisterCreditCard',cancelRegisterCreditCard);bot.payloadRules.set('PayWithCreditCard',payWithCreditCard);bot.payloadRules.set('SendOrders',sendOrders);bot.payloadRules.set('SendOrder',sendOrder);bot.payloadRules.set('NewOrder',newOrder);bot.payloadRules.set('CancelOrder',cancelOrder);bot.payloadRules.set('SendCreditCards',sendCreditCards);bot.payloadRules.set('RemoveCreditCard',removeCreditCard);bot.payloadRules.set('SetScore',setScore);bot.payloadRules.set('SendAccount',sendAccount);bot.payloadRules.set('SendHelp',sendHelp);bot.payloadRules.set('CustomerService',sendHelp);bot.defaultSearch=searchProducts;var initialState={userData:{},paymentTypes:{'Nn0joKC5VK':sendCash,'UdK0Ifc4IF':sendCash,'CHzoYrEtiY':sendRegisteredCreditCards},creditCardImages:{'VISA':'assets/images/visaCard.jpg','MASTERCARD':'assets/images/masterCard.jpg','AMERICAN':'assets/images/americanCard.jpg','DEFAULT':'assets/images/creditCards.jpg'}};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];console.log('ACTION');console.log(action);var data=action.data;if(data&&data.hasOwnProperty('recipientId')){if(typeof state.userData[data.recipientId]=='undefined'){state.userData[data.recipientId]={};}}switch(action.type){case types.APP_LOADED:{console.log('Application is running on port',bot.app.get('port'));return _extends({},state);}case types.CUSTOMER_LOADED:{var customer=(0,_parseUtils.extractParseAttributes)(data.customer);(0,_objectAssign2.default)(state.userData[data.recipientId],{customer:customer});return _extends({},state);}case types.CONSUMER_LOADED:{var consumer=(0,_parseUtils.extractParseAttributes)(data.consumer);(0,_objectAssign2.default)(state.userData[data.recipientId],{consumer:consumer});return _extends({},state);}case types.USER_LOADED:{var user=(0,_parseUtils.extractParseAttributes)(data.user);(0,_objectAssign2.default)(state.userData[data.recipientId],{user:user});return _extends({},state);}case types.CONSUMER_ADDRESSES_LOADED:{var addresses=data.addresses.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{addresses:addresses});return _extends({},state);}case types.SET_CURRENT_ADDRESS:{var address=(0,_parseUtils.extractParseAttributes)(data.address);(0,_objectAssign2.default)(state.userData[data.recipientId],{address:address});return _extends({},state);}case types.PAYMENT_METHODS_LOADED:{var paymentMethods=data.paymentMethods.map(function(p){return(0,_parseUtils.extractParseAttributes)(p);});(0,_objectAssign2.default)(state.userData[data.recipientId],{paymentMethods:paymentMethods});return _extends({},state);}case types.SET_PAYMENT_METHOD:{var paymentMethod=(0,_parseUtils.extractParseAttributes)(data.paymentMethod);(0,_objectAssign2.default)(state.userData[data.recipientId],{paymentMethod:paymentMethod});return _extends({},state);}case types.SET_ORDERS:{var ongoing=data.orders.ongoing.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});var delivered=data.orders.delivered.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{orders:{ongoing:ongoing,delivered:delivered}});return _extends({},state);}case types.CONSUMER_UPDATED:{return _extends({},state);}case types.CONSUMER_NOT_FOUND:{return _extends({},state);}case types.CONSUMER_ORDERS_LOADED:{var orders=data.orders.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{orders:orders});return _extends({},state);}case types.USER_CREDITCARDS_LOADED:{var creditCards=data.creditCards.map(function(a){return(0,_parseUtils.extractParseAttributes)(a);});(0,_objectAssign2.default)(state.userData[data.recipientId],{creditCards:creditCards});return _extends({},state);}case types.SET_CUSTOMER_POINT_SALE:{var pointSale=(0,_parseUtils.extractParseAttributes)(data.pointSale);(0,_objectAssign2.default)(state.userData[data.recipientId],{pointSale:pointSale});return _extends({},state);}case types.SET_ORDER:{var order=(0,_parseUtils.extractParseAttributes)(data.order);(0,_objectAssign2.default)(state.userData[data.recipientId],{order:order});return _extends({},state);}case types.SET_USER:{var _user=(0,_parseUtils.extractParseAttributes)(data.user);(0,_objectAssign2.default)(state.userData[data.recipientId],{user:_user});return _extends({},state);}case types.SET_CONSUMER:{var _consumer=(0,_parseUtils.extractParseAttributes)(data.consumer);(0,_objectAssign2.default)(state.userData[data.recipientId],{consumer:_consumer});return _extends({},state);}case types.SET_CUSTOMER:{var _customer=(0,_parseUtils.extractParseAttributes)(data.customer);(0,_objectAssign2.default)(state.userData[data.recipientId],{customer:_customer});return _extends({},state);}case types.SET_ORDER_STATE:{var orderState=(0,_parseUtils.extractParseAttributes)(data.orderState);(0,_objectAssign2.default)(state.userData[data.recipientId],{orderState:orderState});return _extends({},state);}default:return state;}};(0,_localStore.createLocalStore)(reducer);bot.app.get('/login',function(req,res){res.sendFile(_path2.default.join(__dirname+'/views/login.html'));});bot.app.post('/registerUser',function(req,res){var data=req.body;signUp(data.psid,data.psid,data.uid,data.accessToken).then(function(user){sendMenu(data.psid);});res.status(200).end();});bot.app.get('/creditCard',function(req,res){res.sendFile(_path2.default.join(__dirname+'/views/cardForm.html'));});bot.app.post('/registerCreditCard',function(req,res){var data=req.body;var consumerID=data['consumerID'];new Parse.Query(_ParseModels.Consumer).get(consumerID).then(function(consumer){if(consumer){new Parse.Query(_ParseModels.User).get(consumer.get('user').id).then(function(user){var username=user.get('username');var recipientId=consumer.get('recipientId');var senderId=consumer.get('senderId');Parse.User.logIn(username,username,{success:function success(userData){addCreditCard(recipientId,senderId,userData.getSessionToken(),data);},error:function error(user,_error){console.log('error');console.log(_error);}});});res.sendFile(_path2.default.join(__dirname+'/views/cardRegistered.html'));}},function(object,error){console.log(error);});});bot.app.post('/creditCardRegistered',function(req,res){var data=req.body;var userBuffer=bot.buffer[data.recipientId];if(typeof userBuffer!='undefined'){if(userBuffer.creditCardPayload=='SendCreditCards'){sendRegisteredCreditCards(data.recipientId,data.senderId);delete userBuffer.creditCardPayload;}else{sendCreditCards(data.recipientId,data.senderId);}}else{sendCreditCards(data.recipientId,data.senderId);}});bot.app.post('/changeOrderState',function(req,res){var data=req.body;new Parse.Query(_ParseModels.Consumer).get(data['consumerID']).then(function(consumer){if(consumer){new Parse.Query(_ParseModels.User).get(consumer.get('user').id).then(function(user){var username=user.get('username');var recipientId=consumer.get('recipientId');var senderId=consumer.get('senderId');new Parse.Query(_ParseModels.OrderState).get(data['stateID']).then(function(orderState){store.dispatch(Actions.setOrderState(recipientId,orderState)).then(function(){sendOrderState(recipientId,senderId);});}).fail(function(error){console.log('Error code: '+error.message);});});}},function(object,error){console.log(error);});res.json({result:'OK'});});function signUp(recipientId,senderId,facebookId,conversationToken){return _ParseModels.User.createUser(store,recipientId,facebookId,conversationToken).then(function(){var userObject=(0,_localStore.getData)(recipientId,'user');var user=userObject.rawParseObject;return user.createConsumer(store,recipientId,senderId,conversationToken).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(userObject);});});});}function login(username,password){return Parse.User.logIn(username,password,{success:function success(user){//let val = JSON.stringify({sessionToken: user.getSessionToken()});\n//console.log(val);\nreturn user;},error:function error(user,_error2){console.log('Failed to create new object, with error code: '+_error2.message);}});}function authentication(recipientId,senderId){return getCustomer(recipientId,senderId).then(function(customer){return getUser(recipientId).then(function(user){if(typeof user=='undefined'){//sendSignUp(recipientId)\nreturn _ParseModels.User.createUser(store,recipientId,recipientId,BUSINESS[senderId].PAGE_ACCESS_TOKEN).then(function(){var userObject=(0,_localStore.getData)(recipientId,'user');var user=userObject.rawParseObject;return user.createConsumer(store,recipientId,senderId,BUSINESS[senderId].PAGE_ACCESS_TOKEN).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(userObject);});});});}else{return getConsumer(recipientId,user.rawParseObject).then(function(consumer){return new _promise2.default(function(resolve,reject){resolve(user);});/*Parse.Promise.as().then(() => {\n                        return user;\n                    });*/});}//return login(user.username, user.username).then(()=>{\n//});\n});});}function getCustomer(recipientId,senderId){var customer=(0,_localStore.getData)(recipientId,'customer');if(typeof customer=='undefined'){return _ParseModels.Customer.loadInStore(store,recipientId,BUSINESS[senderId].BUSINESS_ID).then(function(){return(0,_localStore.getData)(recipientId,'customer');});}else{return new _promise2.default(function(resolve,reject){resolve(customer);});}}function getUser(recipientId){var userObj=(0,_localStore.getData)(recipientId,'user');if(typeof userObj=='undefined'){return _ParseModels.User.loadInStore(store,recipientId).then(function(){return(0,_localStore.getData)(recipientId,'user');});}else{return new _promise2.default(function(resolve,reject){resolve(userObj);});}}function getConsumer(recipientId,user){var consumerObj=(0,_localStore.getData)(recipientId,'consumer');if(typeof consumerObj=='undefined'){return _ParseModels.Consumer.loadInStore(store,recipientId,user).then(function(){consumerObj=(0,_localStore.getData)(recipientId,'consumer');if(typeof consumerObj!='undefined'){return new _promise2.default(function(resolve,reject){resolve(consumerObj);});}else{console.log('create consumer');}});}else{return new _promise2.default(function(resolve,reject){resolve(consumerObj);});}}function sendSignUp(recipientId,senderId){var image_url=SERVER_URL+\"assets/images/love.jpg\";return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,[{\"title\":\"Hola, soy un Bot\",\"subtitle\":\"Soy tu asistente virtual. Quieres registrarte en nuestro sistema?\",\"image_url\":image_url,\"buttons\":[{\"type\":\"web_url\",\"url\":SERVER_URL+\"login?psid=\"+recipientId,\"title\":\"Registrarme\",\"webview_height_ratio\":\"full\",\"messenger_extensions\":true}]}]);});});};function sendMenu(recipientId,senderId){console.log('sendMenu');console.log(recipientId);console.log(senderId);return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var customer=(0,_localStore.getData)(recipientId,'customer');var user=(0,_localStore.getData)(recipientId,'user');var image_url=customer.image.url;return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,[{\"title\":\"Hola \"+user.first_name+\", Bienvenido a \"+customer.name,\"subtitle\":\"Aquí puedes pedir un domicilio, escribe o selecciona alguna de las opciones:\",\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Pedir domicilio\",\"payload\":\"SendAddressesWithTitle\"},{\"type\":\"postback\",\"title\":\"Servicio al cliente\",\"payload\":\"CustomerService\"}]}]);});});});}function sendAddressesWithTitle(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"A cual dirección vas hacer tu pedido?\\n\\nPuedes escoger entre agregar una nueva dirección o seleccionar una de tus direcciones guardadas\").then(function(){sendAddresses(recipientId,senderId);});});});}function sendAddresses(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');_ParseModels.ConsumerAddress.loadInStore(store,recipientId,consumer).then(function(){var addresses=(0,_localStore.getData)(recipientId,'addresses');var elements=[];elements.push({\"title\":\"Nueva dirección\",\"subtitle\":\"Puedes agregar una nueva dirección\",\"image_url\":SERVER_URL+\"assets/images/addAddress.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva dirección\",\"payload\":\"NewAddress\"}]});var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=addresses[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var address=_step.value;if(elements.length<bot.limit){elements.push({\"title\":address.name,\"subtitle\":address.address+\", \"+address.description+\", \"+address.city+\", \"+address.state,\"image_url\":GOOGLE_MAPS_URL+\"?center=\"+address.location.lat+\",\"+address.location.lng+\"&zoom=16&size=400x400&markers=color:red%7C\"+address.location.lat+\",\"+address.location.lng+\"&key=\"+GOOGLE_MAPS_KEY,\"buttons\":[{\"type\":\"postback\",\"title\":\"Seleccionar\",\"payload\":\"SetAddress-\"+address.objectId},{\"type\":\"postback\",\"title\":\"Modificar\",\"payload\":\"EditAddress-\"+address.objectId},{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveAddress-\"+address.objectId}]});}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});});});});}function sendCreditCards(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var state=store.getState();var user=(0,_localStore.getData)(recipientId,'user');var creditCardsImages=state['creditCardImages'];_ParseModels.CreditCard.loadInStore(store,recipientId,user).then(function(){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');var userBuffer=bot.buffer[recipientId];var creditCardImage=void 0;var elements=[];if(typeof userBuffer!='undefined'&&userBuffer.hasOwnProperty('creditCardPayload')){delete userBuffer.creditCardPayload;}elements.push({\"title\":\"Registro de tarjeta\",\"subtitle\":\"Puedes agregar una tarjeta\",\"image_url\":SERVER_URL+\"assets/images/creditCards.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva tarjeta\",\"payload\":\"RegisterCreditCard\"}]});var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=creditCards[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var creditCard=_step2.value;if(elements.length<bot.limit){creditCardImage=creditCardsImages.hasOwnProperty(creditCard.type)?creditCardsImages[creditCard.type]:creditCardsImages['DEFAULT'];elements.push({\"title\":creditCard.type+' '+creditCard.lastFour,\"subtitle\":creditCard.cardHolderName,\"image_url\":SERVER_URL+creditCardImage,\"buttons\":[{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveCreditCard-\"+creditCard.objectId}]});}}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});});});});}function newAddress(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){bot.setDataBuffer(recipientId,'addressPayload','NewAddress');writeAddress(recipientId,senderId);});});}function writeAddress(recipientId,senderId){bot.setListener(recipientId,'address','text',addressCheck);bot.setListener(recipientId,'location','attachment',setLocationCheck);return bot.sendQuickReplyMessage(recipientId,senderId,\"Puedes escribir o compartir tu ubicación actual?\\n\\nEjemplo: Calle 67 #52-20, Medellín.\\n\\nNo olvides escribir la ciudad al final de la dirección.\",[{\"content_type\":\"location\",\"title\":\"Enviar ubicación\"}]);}function sendNullMapMessage(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La dirección no ha sido encontrada en Google Maps, por favor intenta de nuevo\");});});}function sendMap(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){var userBuffer=bot.buffer[recipientId];return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendImageMessage(recipientId,senderId,GOOGLE_MAPS_URL+\"?center=\"+userBuffer.location.lat+\",\"+userBuffer.location.lng+\"&zoom=16&size=400x400&markers=color:red%7C\"+userBuffer.location.lat+\",\"+userBuffer.location.lng+\"&key=\"+GOOGLE_MAPS_KEY).then(function(){sendMapConfirmation(recipientId,senderId);});});});}function sendMapConfirmation(recipientId,senderId){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Es correcta?\",[{\"content_type\":\"text\",\"title\":\"Si\",\"payload\":\"SetAddressComplement\"},{\"content_type\":\"text\",\"title\":\"No\",\"payload\":\"NewAddress\"}]);});}function addressCheck(recipientId,senderId){var userBuffer=bot.buffer[recipientId];_geocoder2.default.geocode(userBuffer.address,function(error,data){if(!error&&data.status=='OK'){setAddressComponetsInBuffer(recipientId,senderId,data.results[0]);}else{console.log('Geocode not found');console.log(error);sendNullMapMessage(recipientId,senderId).then(function(){newAddress(recipientId,senderId);});}});}function setAddressComponetsInBuffer(recipientId,senderId,data){return bot.sendTypingOn(recipientId,senderId).then(function(){var userBuffer=bot.buffer[recipientId];userBuffer.address=data.formatted_address;userBuffer.location=data.geometry.location;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=data.address_components[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var component=_step3.value;if(component.types.includes('route')){userBuffer.route=component.long_name;}else if(component.types.includes('street_number')){userBuffer.street_number=component.short_name;}else if(component.types.includes('locality')){userBuffer.locality=component.short_name;}else if(component.types.includes('administrative_area_level_1')){userBuffer.state=component.short_name;}else if(component.types.includes('administrative_area_level_2')){userBuffer.administrative_area=component.short_name;}else if(component.types.includes('country')){userBuffer.country=component.long_name;userBuffer.country_code=component.short_name;}else if(component.types.includes('postal_code')){userBuffer.postal_code=component.short_name;}}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Encontré esta dirección en Google Maps:\\n\\n\"+userBuffer.address).then(function(){sendMap(recipientId,senderId);});});});}function setAddressComplement(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){bot.setListener(recipientId,'complement','text',confirmAddress);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Por favor escribe el complemento de tu dirección actual.\\n\\nEjemplo: Apto 303, edificio el palmar.\\n\\nNo olvides colocar el nombre del edificio o del barrio\");});});}function confirmAddress(recipientId,senderId){var userBuffer=bot.buffer[recipientId];var addressPayload=userBuffer['addressPayload'];if(addressPayload=='NewAddress'){return bot.sendTypingOn(recipientId,senderId).then(function(){bot.setListener(recipientId,'address_name','text',saveAddress);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Por favor coloca un nombre a esta dirección para guardarla. \\n\\nEjemplo: casa, apartamento o oficina\");});});}else if(addressPayload.startsWith('EditAddress')){return bot.sendTypingOn(recipientId,senderId).then(function(){var data=addressPayload.split('-');var location=new Parse.GeoPoint({latitude:parseFloat(userBuffer.location.lat),longitude:parseFloat(userBuffer.location.lng)});new Parse.Query(_ParseModels.ConsumerAddress).get(data[1]).then(function(consumerAddress){consumerAddress.set('address',userBuffer.route+\" # \"+userBuffer.street_number);consumerAddress.set('location',location);consumerAddress.set('country',userBuffer.country);consumerAddress.set('countryCode',userBuffer.country_code);consumerAddress.set('postalCode',userBuffer.postal_code);consumerAddress.set('state',userBuffer.state);consumerAddress.set('description',userBuffer.complement);consumerAddress.save(undefined,{success:function success(address){delete userBuffer.address;delete userBuffer.location;delete userBuffer.complement;return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La dirección ha sido actualizada.\").then(function(){setAddress(recipientId,senderId,address.id);});});},error:function error(user,_error3){console.log('Failed to create new object, with error code: '+_error3.message);}});});});}}function saveAddress(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');var userBuffer=bot.buffer[recipientId];var location=new Parse.GeoPoint({latitude:parseFloat(userBuffer.location.lat),longitude:parseFloat(userBuffer.location.lng)});var consumerAddress=new _ParseModels.ConsumerAddress();consumerAddress.set('name',userBuffer.address_name);consumerAddress.set('address',userBuffer.route+\" # \"+userBuffer.street_number);consumerAddress.set('consumer',{__type:\"Pointer\",className:\"Consumer\",objectId:consumer.objectId});consumerAddress.set('location',location);consumerAddress.set('city',userBuffer.locality);consumerAddress.set('country',userBuffer.country);consumerAddress.set('countryCode',userBuffer.country_code);consumerAddress.set('postalCode',userBuffer.postal_code);consumerAddress.set('state',userBuffer.state);consumerAddress.set('description',userBuffer.complement);consumerAddress.save(undefined,{success:function success(result){delete userBuffer.address;delete userBuffer.location;delete userBuffer.complement;delete userBuffer['address_name'];return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La dirección ha sido almacenada.\").then(function(){setAddress(recipientId,senderId,result.id);});});},error:function error(user,_error4){console.log('Failed to create new object, with error code: '+_error4.message);}});});}function setEmail(recipientId,senderId){bot.setListener(recipientId,'email','text',setEmailCheck);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Por favor escribe tu email:\");});}function setEmailCheck(recipientId,senderId){var userBuffer=bot.buffer[recipientId];var consumer=(0,_localStore.getData)(recipientId,'consumer').rawParseObject;consumer.setEmail(userBuffer.email);consumer.saveInStore(store,recipientId).then(function(){delete userBuffer.email;checkOrder(recipientId,senderId);});}function setTelephone(recipientId,senderId){bot.setListener(recipientId,'telephone','text',setTelephoneCheck);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Por favor escribe tu número telefónico:\");});}function setTelephoneCheck(recipientId,senderId){var userBuffer=bot.buffer[recipientId];var consumer=(0,_localStore.getData)(recipientId,'consumer').rawParseObject;consumer.setPhone(userBuffer.telephone);consumer.saveInStore(store,recipientId).then(function(){delete userBuffer.telephone;checkOrder(recipientId,senderId);});}function setLocationCheck(recipientId,senderId){var userBuffer=bot.buffer[recipientId];_geocoder2.default.reverseGeocode(userBuffer.location.lat,userBuffer.location.lng,function(error,data){if(!error&&data.status=='OK'){setAddressComponetsInBuffer(recipientId,senderId,data.results[0]);}else{console.log('Geocode not found');console.log(error);sendNullMapMessage(recipientId,senderId).then(function(){newAddress(recipientId,senderId);});}});}function setAddress(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){store.dispatch(Actions.setAddress(recipientId,id)).then(function(){var address=(0,_localStore.getData)(recipientId,'address');Parse.Cloud.run('getProducts',{businessId:BUSINESS[senderId].BUSINESS_ID,lat:address.location.lat,lng:address.location.lng}).then(function(result){var pointSale=result.pointSale;store.dispatch(Actions.setCustomerPointSale(recipientId,pointSale.id)).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Perfecto, ya seleccioné tu dirección para este pedido\").then(function(){sendCategories(recipientId,senderId,0);});});});},function(error){if(error.code=='141'){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La dirección seleccionada no está dentro de la cobertura de nuestras sedes, por favor intenta con otra dirección\").then(function(){sendAddressesWithTitle(recipientId,senderId);});});}else{console.log('error');console.log(error);}});});});}function editAddress(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){bot.setDataBuffer(recipientId,'addressPayload','EditAddress-'+id);writeAddress(recipientId,senderId);});});}function removeAddress(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){new Parse.Query(_ParseModels.ConsumerAddress).get(id).then(function(consumerAddress){consumerAddress.destroy().then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La dirección ha sido eliminada.\").then(function(){sendAddresses(recipientId,senderId);});});});});});}function removeCreditCard(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){new Parse.Query(_ParseModels.CreditCard).get(id).then(function(creditCard){creditCard.destroy().then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"La tarjeta de credito ha sido eliminada.\").then(function(){sendCreditCards(recipientId,senderId);});});});});});}function sendCategories(recipientId,senderId,index){return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){Parse.Cloud.run('getProducts',{businessId:BUSINESS[senderId].BUSINESS_ID}).then(function(result){if(result.pointSaleIsOpen){if(typeof index=='undefined')index=0;else if(typeof index=='string')index=parseInt(index);if(index==0){bot.sendTypingOff(recipientId,senderId).then(function(){bot.sendTextMessage(recipientId,senderId,\"A continuación te presentamos las categorías de productos disponibles.\").then(function(){sendCategoriesDetail(recipientId,senderId,result.categories,index);});});}else{bot.sendTypingOff(recipientId,senderId).then(function(){sendCategoriesDetail(recipientId,senderId,result.categories,index);});}}else{sendScheduleRestriction(recipientId,result.pointSaleSchedules);}},function(error){console.log('error');console.log(error);});});});}function splitCategories(recipientId,categories,index){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];categories.forEach(function(item){if(item&&item.get('name')){if(idx>=index*bot.limit&&idx<(index+1)*bot.limit){var image=item.get('image');image_url=typeof image!='undefined'?image.url():customer.image.url;elements.push({title:item.get('name'),image_url:image_url,buttons:[{type:\"postback\",title:'Ver categoría',payload:\"SendProducts-\"+item.id+\"-0\"}]});}idx=idx+1;}});return elements;}function sendCategoriesDetail(recipientId,senderId,categories,index){var elements=splitCategories(recipientId,categories,index);var idx=Object.keys(categories).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Categorías \"+(catIni+1)+\"-\"+catFin,payload:\"SendCategories-\"+(index+1)});elements.push({title:\"Ver más categorias \",subtitle:\"Categorías disponibles\",buttons:buttons});}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});}function sendProducts(recipientId,senderId,categoryId,proIdx){return bot.sendTypingOn(recipientId,senderId).then(function(){proIdx=parseInt(proIdx);if(proIdx==0){new Parse.Query(_ParseModels.Category).get(categoryId).then(function(category){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Selecciona \"+category.get('name')+\":\").then(function(){getProducts(recipientId,senderId,categoryId,proIdx);});});},function(object,error){console.log(error);});}else{getProducts(recipientId,senderId,categoryId,proIdx);}});}function getProducts(recipientId,senderId,categoryId,proIdx){Parse.Cloud.run('getProducts',{businessId:BUSINESS[senderId].BUSINESS_ID,category:categoryId}).then(function(result){if(result.hasOwnProperty('categories')){sendCategoriesDetail(recipientId,senderId,result.categories,0);}else{if(result.products.length==0){bot.sendTypingOff(recipientId,senderId).then(function(){bot.sendQuickReplyMessage(recipientId,senderId,\"No existen productos en esta categoría\",[{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]);});}else{sendProductsDetail(recipientId,senderId,categoryId,result.products,proIdx);}}},function(error){console.log('error');console.log(error);});}function splitProducts(recipientId,products,proIdx){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];products.forEach(function(product){if(product&&product.get('name')){if(idx>=proIdx*bot.limit&&idx<(proIdx+1)*bot.limit){var image=product.get('image');image_url=typeof image!='undefined'?image.url():customer.image.url;elements.push({title:product.get('name')+\": $\"+product.get('priceDefault'),subtitle:product.get('description'),image_url:image_url,buttons:[{type:\"postback\",title:\"Agregar\",payload:\"AddProduct-\"+product.id},{type:\"postback\",title:'Ver descripción',payload:\"SendProductDescription-\"+product.id}]});}idx=idx+1;}});return elements;}function sendProductsDetail(recipientId,senderId,categoryId,products,index){var elements=splitProducts(recipientId,products,index);var idx=Object.keys(products).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Productos \"+(catIni+1)+\"-\"+catFin,payload:\"SendProducts-\"+categoryId+\"-\"+(index+1)});elements.push({title:\"Ver más productos \",subtitle:\"Productos disponibles\",buttons:buttons});}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});}function createCart(recipientId){var userData=(0,_localStore.getData)(recipientId);Object.assign(userData,{'cart':{items:new Map()}});return userData.cart;}function addProduct(recipientId,senderId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(typeof cart=='undefined'){cart=createCart(recipientId);}var items=cart.items;new Parse.Query(_ParseModels.Product).get(productId).then(function(product){var productObject=(0,_parseUtils.extractParseAttributes)(product);var item=items.get(productId);var promises=[];if(typeof item=='undefined'){items.set(productId,{quantity:1,price:productObject.priceDefault});item=items.get(productId);}else{item.quantity+=1;}if(typeof item.modifiers=='undefined'){item.modifiers=[];}if(typeof productObject.modifiers!='undefined'){productObject.modifiers.forEach(function(obj,index,array){promises.push(new Parse.Query(_ParseModels.Modifier).get(obj.objectId).then(function(modifier){return(0,_parseUtils.extractParseAttributes)(modifier);}));});}Parse.Promise.when(promises).then(function(modifiers){var undefinedModifiers=checkModifiers(recipientId,productId,modifiers);//checkModifiersComplete(recipientId, productId, modifiers).then(result =>{\n//    console.log('result: '+result);\n//});\nif(undefinedModifiers.length>0){//Show multiples modifiers\npromises=[];undefinedModifiers[0].items.forEach(function(modifierItem){promises.push(new Parse.Query(_ParseModels.ModifierItem).get(modifierItem.objectId).then(function(modifierItem){return(0,_parseUtils.extractParseAttributes)(modifierItem);}));});Parse.Promise.when(promises).then(function(modifierItems){sendModifierMenu(recipientId,senderId,productId,undefinedModifiers[0],modifierItems);});}else{saveCart(recipientId);sendAddProductNenu(recipientId,senderId,productId);}});},function(object,error){console.log(error);});}function sendAddProductNenu(recipientId,senderId,productId){return new Parse.Query(_ParseModels.Product).get(productId).then(function(product){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"El producto \"+product.get('name')+\" ha sido agregado.\\n\\nDeseas seguir pidiendo o ver tu carrito?\",[{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]);});},function(object,error){console.log(error);});}function sendContinueOrder(recipientId,senderId){return bot.sendTypingOff(recipientId,senderId).then(function(){bot.sendTextMessage(recipientId,senderId,\"Puedes escribir el nombre de un producto, ej: Ensalada mediterranea, o seleccionarlo en el siguiente menú:\").then(function(){sendCategories(recipientId,senderId,0);});});}function sendModifierMenu(recipientId,senderId,productId,modifier,items){var quick_replies=[];items.forEach(function(item){if(quick_replies.length<=bot.limit){quick_replies.push({\"content_type\":\"text\",\"title\":item.name,\"payload\":\"AddModifier-\"+productId+\"-\"+modifier.objectId+\"-\"+item.objectId});}});return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Escoge \"+modifier.name+\":\",quick_replies);});}function addModifier(recipientId,senderId,productId,modifierId,itemId){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var orderItemModifier=new _ParseModels.OrderItemModifier();orderItemModifier.set('modifier',{__type:\"Pointer\",className:\"Modifier\",objectId:modifierId});orderItemModifier.set('modifierItem',{__type:\"Pointer\",className:\"ModifierItem\",objectId:itemId});//orderItemModifier.set('price', itemId.price)\norderItemModifier.save(undefined,{success:function success(result){item.modifiers.push({__type:\"Pointer\",className:\"OrderItemModifier\",objectId:result.id});saveCart(recipientId);sendAddProductNenu(recipientId,senderId,productId);},error:function error(user,_error5){console.log('Failed to create new object, with error code: '+_error5.message);}});}function checkModifiers(recipientId,productId,modifiers){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var exist=false;var result=[];modifiers.forEach(function(modifier){exist=false;item.modifiers.forEach(function(itemModifier){console.log(itemModifier.objectId);//exist true\n});if(!exist){result.push(modifier);}});return result;}function checkModifiersComplete(recipientId,senderId,productId,modifiers){var cart=(0,_localStore.getData)(recipientId,'cart');var items=cart.items;var item=items.get(productId);var promises=[];console.log(modifiers);console.log(modifiers.length);console.log(cart.items);console.log(item);console.log(item.modifiers.length);if(modifiers.length!=item.modifiers.length){promises=[];modifiers.forEach(function(modifier){modifier.items.forEach(function(modifierItem){promises.push(new Parse.Query(_ParseModels.ModifierItem).get(modifierItem.objectId).then(function(modifierItem){return(0,_parseUtils.extractParseAttributes)(modifierItem);}));});return Parse.Promise.when(promises).then(function(elements){sendModifierMenu(recipientId,productId,modifier,elements);return true;});});}}function removeProduct(recipientId,senderId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.destroy({});items.delete(productId);var itemsPointers=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=items[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _step4$value=_slicedToArray(_step4.value,2),key=_step4$value[0],value=_step4$value[1];itemsPointers.push({\"__type\":\"Pointer\",\"className\":\"OrderItem\",\"objectId\":value.id});}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}cart.itemsPointers=itemsPointers;if(items.size==0){sendCart(recipientId,senderId);}else{sendCartDetails(recipientId,senderId);}},error:function error(orderItem,_error6){console.log('error');console.log(_error6);}});}function increaseOneProduct(recipientId,senderId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);item.quantity++;new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.set('amount',item.quantity);orderItem.save();sendCartDetails(recipientId,senderId);},error:function error(orderItem,_error7){console.log('error');console.log(_error7);}});}function decreaseOneProduct(recipientId,senderId,productId){var cart=(0,_localStore.getData)(recipientId,'cart');if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var item=items.get(productId);item.quantity--;if(item.quantity>0){new Parse.Query(_ParseModels.OrderItem).get(item.id,{success:function success(orderItem){orderItem.set('amount',item.quantity);orderItem.save();sendCartDetails(recipientId,senderId);},error:function error(orderItem,_error8){console.log('error');console.log(_error8);}});}else{removeProduct(recipientId,productId);}}function sendProductDescription(recipientId,senderId,productId){var product=new _ParseModels.Product();new Parse.Query(product).get(productId).then(function(product){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,product.get('name')+\": \"+product.get('description'),[{\"content_type\":\"text\",\"title\":\"Agregar\",\"payload\":\"AddProduct-\"+productId},{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]);});},function(object,error){console.log(error);});}function saveCart(recipientId){var consumerCart=new _ParseModels.Cart();var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=(0,_localStore.getData)(recipientId,'address');var cart=(0,_localStore.getData)(recipientId,'cart');var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var items=[];var item=void 0;var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=cart.items[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _step5$value=_slicedToArray(_step5.value,2),id=_step5$value[0],properties=_step5$value[1];item=new _ParseModels.OrderItem();if(properties.hasOwnProperty('id')){item.set('id',properties.id);}item.set('product',{__type:\"Pointer\",className:\"Product\",objectId:id});item.set('price',properties.price);item.set('amount',properties.quantity);item.set('modifiers',properties.modifiers);item.set('modifiersGroups',[]);items.push(item);}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}Parse.Object.saveAll(items,{success:function success(result){var itemsPointers=[];var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=result[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var _item=_step6.value;var itemId=_item.get('product').objectId;cart.items.get(itemId).id=_item.id;itemsPointers.push({\"__type\":\"Pointer\",\"className\":\"OrderItem\",\"objectId\":_item.id});}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}if(cart.hasOwnProperty('id')){consumerCart.set('id',cart.id);}if(typeof paymentMethod!='undefined'){consumerCart.set('paymentMethod',paymentMethod.method);}consumerCart.set('consumerAddress',{__type:\"Pointer\",className:\"ConsumerAddress\",objectId:address.objectId});consumerCart.set('consumer',{__type:\"Pointer\",className:\"Consumer\",objectId:consumer.objectId});consumerCart.set('items',itemsPointers);consumerCart.save(undefined,{success:function success(result){cart['id']=result.id;cart['rawParseObject']=result;cart['itemsPointers']=itemsPointers;},error:function error(user,_error9){console.log('Failed to create new object, with error code: '+_error9.message);}});},error:function error(user,_error10){console.log('Failed to create new object, with error code: '+_error10.message);}});}function saveOrder(recipientId,senderId){getOrderState(0).then(function(state){var order=new _ParseModels.Order();var consumer=(0,_localStore.getData)(recipientId,'consumer');var customer=(0,_localStore.getData)(recipientId,'customer');var cart=(0,_localStore.getData)(recipientId,'cart');var address=(0,_localStore.getData)(recipientId,'address');var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var total=0;cart.items.forEach(function(value,key){total+=value.quantity*value.price;});order.set('consumer',{__type:'Pointer',className:'Consumer',objectId:consumer.objectId});order.set('consumerAddress',{__type:'Pointer',className:'ConsumerAddress',objectId:address.objectId});order.set('pointSale',{__type:'Pointer',className:'CustomerPointSale',objectId:pointSale.objectId});order.set('state',{__type:'Pointer',className:'OrderState',objectId:state.objectId});order.set('items',cart.itemsPointers);order.set('deliveryCost',pointSale.deliveryCost);order.set('total',total);order.set('paymentMethod',paymentMethod.method);order.set('name',consumer.name);order.set('email',consumer.email);order.set('phone',consumer.phone);order.set('platform','Bot');order.save(undefined,{success:function success(order){store.dispatch(Actions.setOrder(recipientId,order)).then(function(){clearCart(recipientId);});},error:function error(user,_error11){console.log('Failed to create new object, with error code: '+_error11.message);console.log(_error11);}});});}function sendPurchaseOptions(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Tenemos las siguientes opciones disponibles:\",[{\"content_type\":\"text\",\"title\":\"Ver categorias\",\"payload\":\"SendCategories-0\"},{\"content_type\":\"text\",\"title\":\"Ver carrito\",\"payload\":\"SendCart\"}]);});});}function sendEmptyCartOptions(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Tenemos las siguientes opciones disponibles:\",[{\"content_type\":\"text\",\"title\":\"Ver categorias\",\"payload\":\"SendCategories-0\"},{\"content_type\":\"text\",\"title\":\"Mis órdenes\",\"payload\":\"SendOrders\"}]);});});}function sendCart(recipientId,senderId){bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var user=(0,_localStore.getData)(recipientId,'user');var customer=(0,_localStore.getData)(recipientId,'customer');var cart=(0,_localStore.getData)(recipientId,'cart');var customer_image_url=void 0;if(typeof customer!='undefined'){customer_image_url=customer.image.url;}if(cart==undefined){cart=createCart(recipientId);}var items=cart.items;var elements=[];var element={};var total=0;var orderLimit=items.size;var ind=0;var image=void 0;var image_url=void 0;if(orderLimit==0){bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Tu carrito de compras está vacío.\").then(function(){sendEmptyCartOptions(recipientId,senderId);});});}else{items.forEach(function(value,key){var product=new Parse.Query(_ParseModels.Product);product.get(key,{success:function success(item){image=item.get('image');image_url=customer_image_url;if(image){image_url=image.url();}element={};element['title']=item.get('name');element['subtitle']=item.get('description');element['quantity']=value.quantity;element['price']=parseInt(item.get('priceDefault'));element['currency']=\"COP\";element['image_url']=image_url;elements.push(element);total+=element['quantity']*element['price'];ind++;if(ind==orderLimit){sendCartReceipt(recipientId,senderId,cart.id,elements,total);}},error:function error(_error12){alert(\"Error: \"+_error12.code+\" \"+_error12.message);}});});}});});}function sendCartReceipt(recipientId,senderId,cartId,elements,total){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=(0,_localStore.getData)(recipientId,'address');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var payment_method=(0,_localStore.getData)(recipientId,'payment_method');var addressData=undefined;if(typeof pointSale=='undefined'){bot.sendTextMessage(recipientId,senderId,\"No has registrado una dirección correcta, por favor registrala para visualizar el carrito\").then(function(){sendAddresses(recipientId,senderId);});}else{if(typeof address!='undefined'){addressData={street_1:address.address?address.address:'Dirección no definida',street_2:address.description?address.description:'Sin complemento',city:address.city?address.city:'No definida',postal_code:address.postalCode?address.postalCode:'No definido',state:address.state?address.state:'No definido',country:address.countryCode?address.countryCode:'No definido'};}if(typeof payment_method=='undefined'){payment_method={name:'Sin definir'};}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendReceiptMessage(recipientId,senderId,{template_type:\"receipt\",recipient_name:user.first_name+\" \"+user.last_name,order_number:cartId,currency:\"COP\",payment_method:payment_method.name,timestamp:Math.trunc(Date.now()/1000).toString(),elements:elements,address:addressData,summary:{subtotal:total,shipping_cost:pointSale.deliveryCost,total_cost:total+pointSale.deliveryCost}},[{\"content_type\":\"text\",\"title\":\"Finalizar pedido\",\"payload\":\"CheckOrder\"},{\"content_type\":\"text\",\"title\":\"Seguir Pidiendo\",\"payload\":\"SendContinueOrder\"},{\"content_type\":\"text\",\"title\":\"Modificar carrito\",\"payload\":\"SendCartDetails\"},{\"content_type\":\"text\",\"title\":\"Borrar carrito\",\"payload\":\"ClearAndSendCart\"}]);});}}function sendCartDetails(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){var cart=(0,_localStore.getData)(recipientId,'cart');var customer=(0,_localStore.getData)(recipientId,'customer');var consumer=(0,_localStore.getData)(recipientId,'consumer');var image_url=customer.image.url;var items=cart.items;var promises=[];items.forEach(function(value,key){if(promises.length<=bot.limit){promises.push(new Parse.Query(_ParseModels.Product).get(key).then(function(product){var image=product.get('image');if(image){image_url=image.url();}return{\"title\":product.get('name')+\": $\"+value.price,\"subtitle\":\"Cantidad solicitada: \"+value.quantity,\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Quitar\",\"payload\":\"RemoveProduct-\"+key},{\"type\":\"postback\",\"title\":\"Aumentar 1\",\"payload\":\"IncreaseOneProduct-\"+key},{\"type\":\"postback\",\"title\":\"Disminuir 1\",\"payload\":\"DecreaseOneProduct-\"+key}]};}));}});return Parse.Promise.when(promises).then(function(elements){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements).then(function(){sendEditCartOptions(recipientId,senderId);});});});});}function sendEditCartOptions(recipientId,senderId){return bot.sendQuickReplyMessage(recipientId,senderId,\"Opciones del carrito:\",[{\"content_type\":\"text\",\"title\":\"Finalizar pedido\",\"payload\":\"CheckOrder\"},{\"content_type\":\"text\",\"title\":\"Seguir pidiendo\",\"payload\":\"SendContinueOrder\"}]);}function editCart(recipientId,senderId){var cart=(0,_localStore.getData)(recipientId,'cart');bot.sendTypingOn(recipientId,senderId);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,[{\"title\":\"Opciones\",\"image_url\":SERVER_URL+\"assets/thinking.jpg\",\"buttons\":[{\"type\":\"web_url\",\"url\":SERVER_URL+\"cart?\"+cart.id,\"title\":\"Remover producto\",\"webview_height_ratio\":\"full\",\"messenger_extensions\":true}]}]);});}function clearCart(recipientId){var cart=(0,_localStore.getData)(recipientId,'cart');if(typeof cart!='undefined'){(function(){var items=cart.items;cart.itemsPointers=[];items.forEach(function(value,key){items.delete(key);});})();}return new _promise2.default(function(resolve,reject){resolve();});}function clearAndSendCart(recipientId,senderId){clearCart(recipientId).then(function(){sendCart(recipientId,senderId);});}function checkOrder(recipientId,senderId){var cart=(0,_localStore.getData)(recipientId,'cart');var consumer=(0,_localStore.getData)(recipientId,'consumer');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var total=0;if(typeof cart!='undefined'){cart.items.forEach(function(value,key){total+=value.quantity*value.price;});}else{cart=createCart(recipientId);}if(typeof pointSale=='undefined'){bot.sendTextMessage(recipientId,senderId,\"No has registrado una dirección correcta, por favor registrala para visualizar el carrito\").then(function(){sendAddresses(recipientId,senderId);});}else{if(pointSale.minOrderPrice&&pointSale.minOrderPrice>total){sendMinOrderPriceRestriction(recipientId,senderId);}else if(typeof consumer.phone=='undefined'||consumer.phone==''){setTelephone(recipientId,senderId);}else if(typeof consumer.email=='undefined'||consumer.email==''){setEmail(recipientId,senderId);}else{checkPayment(recipientId,senderId);}}}function checkAddress(recipientId,senderId){}function checkPayment(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){store.dispatch(Actions.loadPaymentMethods(recipientId,senderId)).then(function(){var paymentMethods=(0,_localStore.getData)(recipientId,'paymentMethods');var quick_replies=[];for(var i in paymentMethods){quick_replies.push({\"content_type\":\"text\",\"title\":paymentMethods[i].name.substring(0,20),\"payload\":\"Checkout-\"+paymentMethods[i].objectId});}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Como vas a pagar tu pedido? (Tu pedido se cobra cuando lo recibes)\",quick_replies);});});});}function checkout(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){store.dispatch(Actions.setPaymentMethod(recipientId,id)).then(function(){var state=store.getState();var paymentTypes=state['paymentTypes'];var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');var paymentFunction=paymentTypes[paymentMethod.method.objectId];paymentFunction(recipientId,senderId);});});}function sendMinOrderPriceRestriction(recipientId,senderId){var pointSale=(0,_localStore.getData)(recipientId,'pointSale');return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"El valor minimo de una orden con domicilio es \"+pointSale.minOrderPrice+\", \\npor favor modifica tu pedido para cumplir este requisito\").then(function(){sendPurchaseOptions(recipientId,senderId);});});}function sendScheduleRestriction(recipientId,senderId,pointSaleSchedules){var pointSale=(0,_localStore.getData)(recipientId,'pointSale');var days=['Domingo','Lunes','Martes','Miercoles','Jueves','Viernes','Sabado','Domingo'];var text='En este momento nuestros puntos de venta estan cerrados, \\npor favor solicita tu domicilio en los siguientes horarios:\\n\\n';var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=pointSaleSchedules[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var pointSaleSchedule=_step7.value;var daysActive=pointSaleSchedule.get('daysActive');var allDay=pointSaleSchedule.get('allDay');for(var dayID in daysActive){if(daysActive.length-1!=dayID){text+=days[daysActive[dayID]-1]+\", \";}else{text+=\"y \"+days[daysActive[dayID]-1]+\" \";}}if(allDay){text+='las 24 horas\\n';}else{text+=\"desde las \"+pointSaleSchedule.get('hourStart')+\" \";text+=\"hasta las \"+pointSaleSchedule.get('hourEnd');}text+=\"\\n\";}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,text).then(function(){sendMenu(recipientId);});});}function sendCash(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){var paymentMethod=(0,_localStore.getData)(recipientId,'paymentMethod');saveCart(recipientId);return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Se ha registrado el pago con \"+paymentMethod.name).then(function(){orderConfirmation(recipientId,senderId);});});});}function registerCreditCard(recipientId,senderId){bot.sendTypingOn(recipientId,senderId);authentication(recipientId,senderId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,[{\"title\":\"Registro de tarjeta de credito y finalización de tu pedido.\\n\\nEstas de acuerdo?\",\"image_url\":SERVER_URL+\"assets/images/creditCards.jpg\",\"subtitle\":\"Por razones de seguridad te redireccionaremos a una página web segura.\",\"buttons\":[{\"type\":\"web_url\",\"title\":\"Si\",\"url\":SERVER_URL+\"creditCard?id=\"+consumer.objectId,\"webview_height_ratio\":\"full\",\"messenger_extensions\":true},{\"type\":\"postback\",\"title\":\"No\",\"payload\":\"CancelRegisterCreditCard\"}]}]);});});}function registerCreditCardAndPay(recipientId,senderId){bot.setDataBuffer(recipientId,'creditCardPayload','SendCreditCards');registerCreditCard(recipientId,senderId);}function cancelRegisterCreditCard(recipientId,senderId){bot.sendTypingOn(recipientId,senderId).then(function(){var userBuffer=bot.buffer[recipientId];return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Si no ingresas los datos de tu tarjeta en nuestro sitio seguro, no podras comprar con tarjeta online\").then(function(){if(typeof userBuffer!='undefined'&&userBuffer.hasOwnProperty('creditCardPayload')){checkPayment(recipientId);}else{sendAccount(recipientId,senderId);}});});});}function sendRegisteredCreditCards(recipientId,senderId){bot.sendTypingOn(recipientId,senderId).then(function(){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');_ParseModels.CreditCard.loadInStore(store,recipientId,user).then(function(){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');if(creditCards.length==0){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Aun no tienes tarjetas registradas, deseas registrar una tarjeta?\",[{\"content_type\":\"text\",\"title\":\"Si\",\"payload\":\"RegisterCreditCardAndPay\"},{\"content_type\":\"text\",\"title\":\"No\",\"payload\":\"CheckPayment\"}]);});}else{var _ret2=function(){var creditCards=(0,_localStore.getData)(recipientId,'creditCards');var quick_replies=[];quick_replies.push({\"content_type\":\"text\",\"title\":\"Agregar tarjeta\",\"payload\":\"RegisterCreditCardAndPay\"});var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=creditCards[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var card=_step8.value;if(quick_replies.length<bot.limit){quick_replies.push({\"content_type\":\"text\",\"title\":card.type+\" \"+card.lastFour,\"payload\":\"PayWithCreditCard-\"+card.lastFour});}}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}return{v:bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Con cual tarjeta quieres pagar?\",quick_replies);})};}();if((typeof _ret2==='undefined'?'undefined':_typeof(_ret2))===\"object\")return _ret2.v;}});});}function payWithCreditCard(recipientId,senderId,creditCardId){return bot.sendTypingOn(recipientId,senderId).then(function(){orderConfirmation(recipientId,senderId);});}function orderConfirmation(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){saveOrder(recipientId);getOrderState(0).then(function(state){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,state.messagePush+\"\\n\\nEn un momento te estaremos dando información en tiempo real sobre tu pedido\");});});});}function sendorderMapState(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Buenas noticias, Tu pedido ha sido Enviado. \\n\\nHaz click en el mapa para vel tu pedido\").then(function(){sendserviceRating(recipientId,senderId);});});});}function sendOrderState(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){var orderState=(0,_localStore.getData)(recipientId,'orderState');var pointSale=(0,_localStore.getData)(recipientId,'pointSale');return bot.sendTypingOff(recipientId,senderId).then(function(){switch(orderState.order){case 1:return bot.sendTextMessage(recipientId,senderId,\"Tu pedido ha sido Aceptado. \\n\\nLo estan preparando en nuestra sede y te lo enviaremos en aproximadamente \"+pointSale.deliveryTime+\" minutos\");break;case 5:return bot.sendTextMessage(recipientId,senderId,orderState.messagePush).then(function(){sendserviceRating(recipientId,senderId);});break;case 6:return new _promise2.default(function(resolve,reject){resolve();});break;case 8:return bot.sendTextMessage(recipientId,senderId,orderState.messagePush).then(function(){sendOrders(recipientId,senderId);});break;default:return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,orderState.messagePush);});break;}});});}function sendserviceRating(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendQuickReplyMessage(recipientId,senderId,\"Califica tu experiencia para ayudarnos a mejorar. \\n\\nDe 1 a 5 cuantas extrellas merece nuestro servicio?\",[{\"content_type\":\"text\",\"title\":\"5 (Excelente)\",\"payload\":\"SetScore-5\"},{\"content_type\":\"text\",\"title\":\"4 (Bien)\",\"payload\":\"SetScore-4\"},{\"content_type\":\"text\",\"title\":\"3 (Regular)\",\"payload\":\"SetScore-3\"},{\"content_type\":\"text\",\"title\":\"2 (Mal)\",\"payload\":\"SetScore-2\"},{\"content_type\":\"text\",\"title\":\"2 (Muy mal)\",\"payload\":\"SetScore-1\"}]);});});}function setScore(recipientId,senderId,score){var order=(0,_localStore.getData)(recipientId,'order');return bot.sendTypingOn(recipientId,senderId).then(function(){Parse.Cloud.run('rateOrder',{orderId:order.objectId,score:Number(score),comment:''}).then(function(result){return bot.sendTypingOff(recipientId,senderId).then(function(){thank(recipientId,senderId);});},function(error){console.log('error');console.log(error);});});}function thank(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Gracias, esperamos tener el gusto de atenderle nuevamente\");});});}function searchProducts(recipientId,senderId,query,index){return bot.sendTypingOn(recipientId,senderId).then(function(){Parse.Cloud.run('search',{businessId:BUSINESS[senderId].BUSINESS_ID,q:query}).then(function(result){if(result.length==0){renderSearchEmpty(recipientId,senderId);}else if(result.length==1&&result[0].type=='Category'){sendProducts(recipientId,senderId,result[0].id,0);}else{if(index==undefined)index=0;else if(typeof index=='string')index=parseInt(index);if(index==0){renderSearchInitial(recipientId,senderId);}splitSearchResult(recipientId,result,index).then(function(elements){var idx=Object.keys(result).length;var buttons=[];var catIni=(index+1)*bot.limit;var catFin=idx>catIni+bot.limit?catIni+bot.limit:idx;if(idx>(index+1)*bot.limit){buttons.push({type:\"postback\",title:\"Productos \"+(catIni+1)+\"-\"+catFin,payload:\"Search-\"+(index+1)});elements.push({title:\"Ver más productos \",subtitle:\"Productos disponibles\",buttons:buttons});}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});});}},function(error){console.log('error');console.log(error);});});}function renderSearchInitial(recipientId,senderId){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"Se han encontrado los siguientes productos:\");});}function renderSearchEmpty(recipientId,senderId){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"No se han encontrado productos que coincidan\");});}function splitSearchResult(recipientId,products,index){var customer=(0,_localStore.getData)(recipientId,'customer');var image_url=void 0;var idx=0;var elements=[];var promises=[];products.forEach(function(item){if(item&&item.name&&item.type=='Product'){if(idx>=index*bot.limit&&idx<(index+1)*bot.limit){promises.push(new Parse.Query(_ParseModels.Product).get(item.id).then(function(product){return(0,_parseUtils.extractParseAttributes)(product);}));idx=idx+1;}}});return Parse.Promise.when(promises).then(function(productObjects){productObjects.forEach(function(product){var image=product.image;image_url=typeof image!='undefined'?image.url:customer.image.url;elements.push({title:product.name+\": $\"+product.priceDefault,subtitle:product.description,image_url:image_url,buttons:[{type:\"postback\",title:'Agregar',payload:\"AddProduct-\"+product.objectId},{type:\"postback\",title:'Ver descripción',payload:\"SendProductDescription-\"+product.objectId}]});});return elements;});//    subtitle: item.get('description'),\n}function sendHelp(recipientId,senderId){bot.sendTypingOn(recipientId,senderId);renderHelp(recipientId,senderId).then(function(){sendContactUs(recipientId,senderId);});}function renderHelp(recipientId,senderId){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"InOut Bot.\\n\\nTe permite visualizar las opciones de productos, agregarlos al carrito y realizar tu compra por medio del chat de facebook.\\n\\nFuncionalidades disponibles: \\n\\n'Hola', para iniciar la conversación\\n'Pedir Domicilio', si quieres realizar un domicilio\\n'Carrito', para ver el estado actual de tu carrito\");});}function sendContactUs(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\" Para mayor información puedes contactarnos en:\\n\\n Web: http://www.inoutdelivery.com/\\n\\n Email: soporte@inoutdelivery.com\");});});}function sendOrders(recipientId,senderId){bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var consumer=(0,_localStore.getData)(recipientId,'consumer');Parse.Cloud.run('ordersBot',{businessId:BUSINESS[senderId].BUSINESS_ID,consumerId:consumer.objectId}).then(function(orders){store.dispatch(Actions.setOrders(recipientId,orders)).then(function(){renderOrders(recipientId,senderId);});}).fail(function(error){console.log('error');console.log(error);});});});}function renderOrders(recipientId,senderId){var customer=(0,_localStore.getData)(recipientId,'customer');var orders=(0,_localStore.getData)(recipientId,'orders');var elements=[];elements.push({\"title\":\"Nueva orden\",\"subtitle\":\"Puedes realizar una orden\",\"image_url\":SERVER_URL+\"assets/images/newOrden.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":\"Nueva orden\",\"payload\":\"NewOrder\"}]});var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=orders.ongoing[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var order=_step9.value;var pointSale=order.pointSale;if(elements.length<bot.limit){var datetime=_datetimeConverterNodejs2.default.dateString(order.createdAt);var image_url=customer.image.url;var title=order.orderNumber?'Orden: '+order.orderNumber:'Orden: '+(0,_dateformat2.default)(datetime,\"h:MM:ss TT dd/mm/yyyy\");elements.push({\"title\":title,\"subtitle\":'Estado: '+order.state.name+', Valor: $'+(order.total+pointSale.deliveryCost),\"image_url\":image_url,\"buttons\":[{\"type\":\"postback\",\"title\":\"Ver orden\",\"payload\":\"SendOrder-\"+order.objectId},{\"type\":\"postback\",\"title\":\"Cancelar orden\",\"payload\":\"CancelOrder-\"+order.objectId}]});}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});}function sendOrder(recipientId,senderId,id){return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){var orders=(0,_localStore.getData)(recipientId,'orders');var customer=(0,_localStore.getData)(recipientId,'customer');var customer_image_url=customer.image.url;var currentOrder=void 0;var elements=[];var element=void 0;var image_url=void 0;var product=void 0;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=orders.ongoing[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var order=_step10.value;if(order.objectId==id){currentOrder=order;}}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=currentOrder.items[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var item=_step11.value;product=item.product;image_url=customer_image_url;if(product.image){image_url=product.image.url;}element={};element['title']=product.name;element['quantity']=item.amount;element['price']=item.price;element['currency']=\"COP\";element['image_url']=image_url;elements.push(element);}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}renderOrder(recipientId,senderId,currentOrder,elements);});});}function renderOrder(recipientId,senderId,order,elements){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var address=order.consumerAddress;var pointSale=order.pointSale;var payment_method=order.paymentMethod;var addressData=undefined;if(typeof payment_method=='undefined'){payment_method={name:'Sin definir'};}if(typeof address!='undefined'){addressData={street_1:address.address?address.address:'Dirección no definida',street_2:address.description?address.description:'Sin complemento',city:address.city?address.city:'No definida',postal_code:address.postalCode?address.postalCode:'No definido',state:address.state?address.state:'No definido',country:address.countryCode?address.countryCode:'No definido'};}return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendReceiptMessage(recipientId,senderId,{template_type:\"receipt\",recipient_name:user.first_name+\" \"+user.last_name,order_number:order.objectId,currency:\"COP\",payment_method:payment_method.name,timestamp:Math.trunc(Date.now()/1000).toString(),elements:elements,address:addressData,summary:{subtotal:order.total,shipping_cost:pointSale.deliveryCost,total_cost:order.total+pointSale.deliveryCost}},[{\"content_type\":\"text\",\"title\":\"Nueva orden\",\"payload\":\"NewOrder\"},{\"content_type\":\"text\",\"title\":\"Ver órdenes\",\"payload\":\"SendOrders\"},{\"content_type\":\"text\",\"title\":\"Cancelar orden\",\"payload\":\"CancelOrder-\"+order.objectId}]);});}function newOrder(recipientId,senderId){clearCart(recipientId).then(function(){sendAddressesWithTitle(recipientId,senderId);});}function cancelOrder(recipientId,senderId,id){Parse.Cloud.run('changeStatusOrder',{status:\"canceledByUser\",orderId:id}).then(function(){}).fail(function(error){console.log('error');console.log(error);});}function sendAccount(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){authentication(recipientId,senderId).then(function(){renderAccount(recipientId,senderId);});});}function renderAccount(recipientId,senderId){var user=(0,_localStore.getData)(recipientId,'user');var consumer=(0,_localStore.getData)(recipientId,'consumer');var elements=[{\"title\":'Ver direcciones',\"subtitle\":'Editar y eliminar direcciones',\"image_url\":SERVER_URL+\"assets/images/addresses.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":'Ver direcciones',\"payload\":\"SendAddresses\"}]},{\"title\":'Ver tarjetas de credito',\"subtitle\":'Editar y eliminar tarjetas de credito',\"image_url\":SERVER_URL+\"assets/images/creditCards.jpg\",\"buttons\":[{\"type\":\"postback\",\"title\":'Ver tarjetas',\"payload\":\"SendCreditCards\"}]}];return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendGenericMessage(recipientId,senderId,elements);});}function sendYouAreWelcome(recipientId,senderId){return bot.sendTypingOn(recipientId,senderId).then(function(){return bot.sendTypingOff(recipientId,senderId).then(function(){return bot.sendTextMessage(recipientId,senderId,\"De nada, gracias por usar nuestros servicios\");});});}function addCreditCard(recipientId,senderId,token,data){var expiration=data['expiry'].replace(/\\s+/g,\"\").split('/');return(0,_requestPromise2.default)({uri:PARSE_SERVER_URL+'/functions/addCreditCard',headers:{'Content-Type':'text/plain;charset=UTF-8','X-Parse-Application-Id':PARSE_APP_ID,'X-Parse-Session-Token':token},method:'POST',json:{\"businessId\":BUSINESS[senderId].BUSINESS_ID,\"number\":data['number'].replace(/\\s+/g,\"\"),\"holderName\":data['holderName'],\"verificationNumber\":data['cvc'],\"expirationMonth\":expiration[0],\"expirationYear\":expiration[1]}}).then(function(body){(0,_requestPromise2.default)({uri:SERVER_URL+'creditCardRegistered',method:'POST',json:{\"recipientId\":recipientId,\"senderId\":senderId}});}).catch(function(error){console.log('error');console.log(error);var response=error.response;//console.log(JSON.stringify(error, null, 1));\nconsole.log(JSON.stringify(response.body,null,1));});}function getOrderState(orderStateNumber){return new Parse.Query(_ParseModels.OrderState).equalTo('order',orderStateNumber).find().then(function(state){return(0,_parseUtils.extractParseAttributes)(state[0]);},function(object,error){console.log(error);});}module.exports={store:store,getData:_localStore.getData};store.dispatch({type:types.APP_LOADED});"]}