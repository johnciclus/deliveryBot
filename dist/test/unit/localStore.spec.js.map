{"version":3,"sources":["../../../test/unit/localStore.spec.js"],"names":["describe","it","initialState","userData","reducer","state","action","data","expect","toEqual","toBe","undefined","recipientId","first_name","last_name","locale","timezone","gender","userTmp","facebookId","store","getState","user","id","rawParseObject","hasOwnProperty"],"mappings":"6OAAA,2C,yDACA,sC,2CACA,2C,yCACA,gDACA,gD,mFAEAA,SAAS,qBAAT,CAAgC,UAAY,CACxCC,GAAG,mBAAH,CAAwB,UAAY,CAChC,GAAMC,cAAe,CACjBC,SAAU,EADO,CAArB,CAIA,GAAMC,SAAU,QAAVA,QAAU,EAAkC,IAAjCC,MAAiC,2DAAzBH,YAAyB,IAAXI,OAAW,cAC9C,GAAIC,MAAOD,OAAOC,IAAlB,CACA,mBAAWF,KAAX,EACH,CAHD,CAKA,iCAAiBD,OAAjB,EACH,CAXD,EAaAH,GAAG,cAAH,CAAmB,UAAY,CAC3BO,OAAO,wBAAQ,kBAAR,CAAP,EAAoCC,OAApC,CAA4C,EAA5C,EACH,CAFD,EAIAR,GAAG,yDAAH,CAA8D,UAAY,CACtEO,OAAO,wBAAQ,kBAAR,CAA4B,MAA5B,CAAP,EAA4CE,IAA5C,CAAiDC,SAAjD,EACH,CAFD,EAIAV,GAAG,gCAAH,CAAqC,UAAY,CAC7C,GAAIW,aAAc,kBAAlB,CACA,GAAIT,UAAW,CACXU,WAAY,MADD,CAEXC,UAAW,iBAFA,CAGXC,OAAQ,OAHG,CAIXC,SAAU,CAAC,CAJA,CAKXC,OAAQ,MALG,CAAf,CAQA,GAAIC,SAAU,mBAAS,2BAAaf,QAAb,CAAuB,CAACgB,WAAYP,WAAb,CAAvB,CAAT,CAAd,CACA,GAAIP,OAAQe,MAAMC,QAAN,EAAZ,CACA,2BAAahB,MAAMF,QAAN,CAAeS,WAAf,CAAb,CAA0C,CAACU,KAAM,uCAAuBJ,OAAvB,CAAP,CAA1C,EAEAV,OAAO,wBAAQ,kBAAR,CAA4B,MAA5B,CAAP,EAA4CC,OAA5C,CAAoD,CAChDc,GAAIZ,SAD4C,CAEhDE,WAAY,MAFoC,CAGhDC,UAAW,iBAHqC,CAIhDC,OAAQ,OAJwC,CAKhDC,SAAU,CAAC,CALqC,CAMhDC,OAAQ,MANwC,CAOhDE,WAAY,kBAPoC,CAQhDK,eAAgBN,OARgC,CAApD,EASH,CAvBD,EAyBAjB,GAAG,uCAAH,CAA4C,UAAY,CACpD,GAAIE,UAAW,wBAAQ,kBAAR,CAAf,CACAK,OAAOL,SAASsB,cAAT,CAAwB,MAAxB,CAAP,EAAwChB,OAAxC,CAAgD,IAAhD,EAEA,GAAIa,MAAOnB,SAASmB,IAApB,CACAd,OAAOc,KAAKT,UAAZ,EAAwBH,IAAxB,CAA6B,MAA7B,EACAF,OAAOc,KAAKR,SAAZ,EAAuBJ,IAAvB,CAA4B,iBAA5B,EACAF,OAAOc,KAAKP,MAAZ,EAAoBL,IAApB,CAAyB,OAAzB,EACAF,OAAOc,KAAKN,QAAZ,EAAsBN,IAAtB,CAA2B,CAAC,CAA5B,EACAF,OAAOc,KAAKH,UAAZ,EAAwBT,IAAxB,CAA6B,kBAA7B,EACH,CAVD,EAWH,CA1DD","file":"localStore.spec.js","sourcesContent":["import objectAssign from 'object-assign';\nimport Parse from '../../src/parse';\nimport User from '../../src/models/User';\nimport {createLocalStore, getData} from '../../src/localStore';\nimport { extractParseAttributes } from '../../src/parseUtils';\n\ndescribe(\"LocalStore creation\", function () {\n    it(\"create localStore\", function () {\n        const initialState = {\n            userData: { }\n        }\n\n        const reducer = (state = initialState, action) => {\n            let data = action.data;\n            return {...state};\n        }\n\n        createLocalStore(reducer);\n    });\n\n    it(\"get userData\", function () {\n        expect(getData('1100195690052041')).toEqual({})\n    })\n\n    it(\"deberia retornar indefinido cuando el usuario no existe\", function () {\n        expect(getData('1100195690052041', 'user')).toBe(undefined)\n    })\n\n    it(\"test getData user and property\", function () {\n        let recipientId = '1100195690052041'\n        let userData = {\n            first_name: 'John',\n            last_name: 'Garavito Suárez',\n            locale: 'en_US',\n            timezone: -5,\n            gender: 'male'\n        };\n\n        let userTmp = new User(objectAssign(userData, {facebookId: recipientId}));\n        let state = store.getState();\n        objectAssign(state.userData[recipientId], {user: extractParseAttributes(userTmp)});\n\n        expect(getData('1100195690052041', 'user')).toEqual({\n            id: undefined,\n            first_name: 'John',\n            last_name: 'Garavito Suárez',\n            locale: 'en_US',\n            timezone: -5,\n            gender: 'male',\n            facebookId: '1100195690052041',\n            rawParseObject: userTmp })\n    })\n\n    it(\"test getData user with all properties\", function () {\n        let userData = getData('1100195690052041');\n        expect(userData.hasOwnProperty('user')).toEqual(true);\n\n        let user = userData.user;\n        expect(user.first_name).toBe('John');\n        expect(user.last_name).toBe('Garavito Suárez');\n        expect(user.locale).toBe('en_US');\n        expect(user.timezone).toBe(-5);\n        expect(user.facebookId).toBe('1100195690052041');\n    })\n});\n"]}