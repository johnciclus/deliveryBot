{"version":3,"sources":["../../../../public/assets/js/login.built.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","root","factory","define","amd","returnExports","XHR","XMLHttpRequest","request","log","noop","DEFAULT_TIMEOUT","options","callback","options_onResponse","onResponse","JSON","parse","stringify","verbose","getLogger","url","uri","unsupported_options","method","headers","body","timeout","host","json","accept","serialize","obj","str","p","hasOwnProperty","push","encodeURIComponent","join","qs","indexOf","multipart","result","boundry","Math","floor","random","lines","type","form","encoding","toLowerCase","replace","multi","authorization","auth","b64_enc","username","password","run_xhr","req_seq","xhr","timed_out","is_cors","is_crossDomain","supports_cors","seq_id","id","_id","cors_err","cors","timeoutTimer","setTimeout","too_late","er","duration","error","did","onreadystatechange","on_state_change","open","withCredentials","send","event","debug","readyState","OPENED","key","setRequestHeader","HEADERS_RECEIVED","on_response","LOADING","on_loading","DONE","on_end","response","status","clearTimeout","statusCode","loading","end","responseText","defaults","requester","def","d","params","undefined","de","get","post","put","head","shortcuts","forEach","shortcut","toUpperCase","func","opts","args","concat","Array","prototype","slice","apply","arguments","couch","couch_handler","resp","reason","logger","levels","level","console","formatted","formatted_logger","context","rurl","ajaxLocation","location","href","document","createElement","ajaxLocParts","exec","parts","data","b64","o1","o2","o3","h1","h2","h3","h4","bits","ac","enc","tmp_arr","charCodeAt","charAt","Object","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","map","test3","split","letter","keys","target","source","from","to","symbols","getOwnPropertySymbols","strictUriEncode","objectAssign","encode","value","strict","extract","ret","create","trim","param","shift","decodeURIComponent","isArray","sort","val2","filter","x","c","toString","global","queryString","statusChangeCallback","uid","authResponse","userID","accessToken","MessengerExtensions","getUserID","success","uids","psid","sendUserData","requestCloseBrowser","err","parameters","search","window","close","getElementById","innerHTML","checkLoginState","FB","getLoginStatus","fbAsyncInit","init","appId","cookie","xfbml","version","extAsyncInit","js","fjs","getElementsByTagName","src","parentNode","insertBefore","self"],"mappings":"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","file":"login.built.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// Browser Request\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// UMD HEADER START \n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n  }\n}(this, function () {\n// UMD HEADER END\n\nvar XHR = XMLHttpRequest\nif (!XHR) throw new Error('missing XMLHttpRequest')\nrequest.log = {\n  'trace': noop, 'debug': noop, 'info': noop, 'warn': noop, 'error': noop\n}\n\nvar DEFAULT_TIMEOUT = 3 * 60 * 1000 // 3 minutes\n\n//\n// request\n//\n\nfunction request(options, callback) {\n  // The entry-point to the API: prep the options object and pass the real work to run_xhr.\n  if(typeof callback !== 'function')\n    throw new Error('Bad callback given: ' + callback)\n\n  if(!options)\n    throw new Error('No options given')\n\n  var options_onResponse = options.onResponse; // Save this for later.\n\n  if(typeof options === 'string')\n    options = {'uri':options};\n  else\n    options = JSON.parse(JSON.stringify(options)); // Use a duplicate for mutating.\n\n  options.onResponse = options_onResponse // And put it back.\n\n  if (options.verbose) request.log = getLogger();\n\n  if(options.url) {\n    options.uri = options.url;\n    delete options.url;\n  }\n\n  if(!options.uri && options.uri !== \"\")\n    throw new Error(\"options.uri is a required argument\");\n\n  if(typeof options.uri != \"string\")\n    throw new Error(\"options.uri must be a string\");\n\n  var unsupported_options = ['proxy', '_redirectsFollowed', 'maxRedirects', 'followRedirect']\n  for (var i = 0; i < unsupported_options.length; i++)\n    if(options[ unsupported_options[i] ])\n      throw new Error(\"options.\" + unsupported_options[i] + \" is not supported\")\n\n  options.callback = callback\n  options.method = options.method || 'GET';\n  options.headers = options.headers || {};\n  options.body    = options.body || null\n  options.timeout = options.timeout || request.DEFAULT_TIMEOUT\n\n  if(options.headers.host)\n    throw new Error(\"Options.headers.host is not supported\");\n\n  if(options.json) {\n    options.headers.accept = options.headers.accept || 'application/json'\n    if(options.method !== 'GET')\n      options.headers['content-type'] = 'application/json'\n\n    if(typeof options.json !== 'boolean')\n      options.body = JSON.stringify(options.json)\n    else if(typeof options.body !== 'string')\n      options.body = JSON.stringify(options.body)\n  }\n  \n  //BEGIN QS Hack\n  var serialize = function(obj) {\n    var str = [];\n    for(var p in obj)\n      if (obj.hasOwnProperty(p)) {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n      }\n    return str.join(\"&\");\n  }\n  \n  if(options.qs){\n    var qs = (typeof options.qs == 'string')? options.qs : serialize(options.qs);\n    if(options.uri.indexOf('?') !== -1){ //no get params\n        options.uri = options.uri+'&'+qs;\n    }else{ //existing get params\n        options.uri = options.uri+'?'+qs;\n    }\n  }\n  //END QS Hack\n  \n  //BEGIN FORM Hack\n  var multipart = function(obj) {\n    //todo: support file type (useful?)\n    var result = {};\n    result.boundry = '-------------------------------'+Math.floor(Math.random()*1000000000);\n    var lines = [];\n    for(var p in obj){\n        if (obj.hasOwnProperty(p)) {\n            lines.push(\n                '--'+result.boundry+\"\\n\"+\n                'Content-Disposition: form-data; name=\"'+p+'\"'+\"\\n\"+\n                \"\\n\"+\n                obj[p]+\"\\n\"\n            );\n        }\n    }\n    lines.push( '--'+result.boundry+'--' );\n    result.body = lines.join('');\n    result.length = result.body.length;\n    result.type = 'multipart/form-data; boundary='+result.boundry;\n    return result;\n  }\n  \n  if(options.form){\n    if(typeof options.form == 'string') throw('form name unsupported');\n    if(options.method === 'POST'){\n        var encoding = (options.encoding || 'application/x-www-form-urlencoded').toLowerCase();\n        options.headers['content-type'] = encoding;\n        switch(encoding){\n            case 'application/x-www-form-urlencoded':\n                options.body = serialize(options.form).replace(/%20/g, \"+\");\n                break;\n            case 'multipart/form-data':\n                var multi = multipart(options.form);\n                //options.headers['content-length'] = multi.length;\n                options.body = multi.body;\n                options.headers['content-type'] = multi.type;\n                break;\n            default : throw new Error('unsupported encoding:'+encoding);\n        }\n    }\n  }\n  //END FORM Hack\n\n  // If onResponse is boolean true, call back immediately when the response is known,\n  // not when the full request is complete.\n  options.onResponse = options.onResponse || noop\n  if(options.onResponse === true) {\n    options.onResponse = callback\n    options.callback = noop\n  }\n\n  // XXX Browsers do not like this.\n  //if(options.body)\n  //  options.headers['content-length'] = options.body.length;\n\n  // HTTP basic authentication\n  if(!options.headers.authorization && options.auth)\n    options.headers.authorization = 'Basic ' + b64_enc(options.auth.username + ':' + options.auth.password);\n\n  return run_xhr(options)\n}\n\nvar req_seq = 0\nfunction run_xhr(options) {\n  var xhr = new XHR\n    , timed_out = false\n    , is_cors = is_crossDomain(options.uri)\n    , supports_cors = ('withCredentials' in xhr)\n\n  req_seq += 1\n  xhr.seq_id = req_seq\n  xhr.id = req_seq + ': ' + options.method + ' ' + options.uri\n  xhr._id = xhr.id // I know I will type \"_id\" from habit all the time.\n\n  if(is_cors && !supports_cors) {\n    var cors_err = new Error('Browser does not support cross-origin request: ' + options.uri)\n    cors_err.cors = 'unsupported'\n    return options.callback(cors_err, xhr)\n  }\n\n  xhr.timeoutTimer = setTimeout(too_late, options.timeout)\n  function too_late() {\n    timed_out = true\n    var er = new Error('ETIMEDOUT')\n    er.code = 'ETIMEDOUT'\n    er.duration = options.timeout\n\n    request.log.error('Timeout', { 'id':xhr._id, 'milliseconds':options.timeout })\n    return options.callback(er, xhr)\n  }\n\n  // Some states can be skipped over, so remember what is still incomplete.\n  var did = {'response':false, 'loading':false, 'end':false}\n\n  xhr.onreadystatechange = on_state_change\n  xhr.open(options.method, options.uri, true) // asynchronous\n  if(is_cors)\n    xhr.withCredentials = !! options.withCredentials\n  xhr.send(options.body)\n  return xhr\n\n  function on_state_change(event) {\n    if(timed_out)\n      return request.log.debug('Ignoring timed out state change', {'state':xhr.readyState, 'id':xhr.id})\n\n    request.log.debug('State change', {'state':xhr.readyState, 'id':xhr.id, 'timed_out':timed_out})\n\n    if(xhr.readyState === XHR.OPENED) {\n      request.log.debug('Request started', {'id':xhr.id})\n      for (var key in options.headers)\n        xhr.setRequestHeader(key, options.headers[key])\n    }\n\n    else if(xhr.readyState === XHR.HEADERS_RECEIVED)\n      on_response()\n\n    else if(xhr.readyState === XHR.LOADING) {\n      on_response()\n      on_loading()\n    }\n\n    else if(xhr.readyState === XHR.DONE) {\n      on_response()\n      on_loading()\n      on_end()\n    }\n  }\n\n  function on_response() {\n    if(did.response)\n      return\n\n    did.response = true\n    request.log.debug('Got response', {'id':xhr.id, 'status':xhr.status})\n    clearTimeout(xhr.timeoutTimer)\n    xhr.statusCode = xhr.status // Node request compatibility\n\n    // Detect failed CORS requests.\n    if(is_cors && xhr.statusCode == 0) {\n      var cors_err = new Error('CORS request rejected: ' + options.uri)\n      cors_err.cors = 'rejected'\n\n      // Do not process this request further.\n      did.loading = true\n      did.end = true\n\n      return options.callback(cors_err, xhr)\n    }\n\n    options.onResponse(null, xhr)\n  }\n\n  function on_loading() {\n    if(did.loading)\n      return\n\n    did.loading = true\n    request.log.debug('Response body loading', {'id':xhr.id})\n    // TODO: Maybe simulate \"data\" events by watching xhr.responseText\n  }\n\n  function on_end() {\n    if(did.end)\n      return\n\n    did.end = true\n    request.log.debug('Request done', {'id':xhr.id})\n\n    xhr.body = xhr.responseText\n    if(options.json) {\n      try        { xhr.body = JSON.parse(xhr.responseText) }\n      catch (er) { return options.callback(er, xhr)        }\n    }\n\n    options.callback(null, xhr, xhr.body)\n  }\n\n} // request\n\nrequest.withCredentials = false;\nrequest.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\n\n//\n// defaults\n//\n\nrequest.defaults = function(options, requester) {\n  var def = function (method) {\n    var d = function (params, callback) {\n      if(typeof params === 'string')\n        params = {'uri': params};\n      else {\n        params = JSON.parse(JSON.stringify(params));\n      }\n      for (var i in options) {\n        if (params[i] === undefined) params[i] = options[i]\n      }\n      return method(params, callback)\n    }\n    return d\n  }\n  var de = def(request)\n  de.get = def(request.get)\n  de.post = def(request.post)\n  de.put = def(request.put)\n  de.head = def(request.head)\n  return de\n}\n\n//\n// HTTP method shortcuts\n//\n\nvar shortcuts = [ 'get', 'put', 'post', 'head' ];\nshortcuts.forEach(function(shortcut) {\n  var method = shortcut.toUpperCase();\n  var func   = shortcut.toLowerCase();\n\n  request[func] = function(opts) {\n    if(typeof opts === 'string')\n      opts = {'method':method, 'uri':opts};\n    else {\n      opts = JSON.parse(JSON.stringify(opts));\n      opts.method = method;\n    }\n\n    var args = [opts].concat(Array.prototype.slice.apply(arguments, [1]));\n    return request.apply(this, args);\n  }\n})\n\n//\n// CouchDB shortcut\n//\n\nrequest.couch = function(options, callback) {\n  if(typeof options === 'string')\n    options = {'uri':options}\n\n  // Just use the request API to do JSON.\n  options.json = true\n  if(options.body)\n    options.json = options.body\n  delete options.body\n\n  callback = callback || noop\n\n  var xhr = request(options, couch_handler)\n  return xhr\n\n  function couch_handler(er, resp, body) {\n    if(er)\n      return callback(er, resp, body)\n\n    if((resp.statusCode < 200 || resp.statusCode > 299) && body.error) {\n      // The body is a Couch JSON object indicating the error.\n      er = new Error('CouchDB error: ' + (body.error.reason || body.error.error))\n      for (var key in body)\n        er[key] = body[key]\n      return callback(er, resp, body);\n    }\n\n    return callback(er, resp, body);\n  }\n}\n\n//\n// Utility\n//\n\nfunction noop() {}\n\nfunction getLogger() {\n  var logger = {}\n    , levels = ['trace', 'debug', 'info', 'warn', 'error']\n    , level, i\n\n  for(i = 0; i < levels.length; i++) {\n    level = levels[i]\n\n    logger[level] = noop\n    if(typeof console !== 'undefined' && console && console[level])\n      logger[level] = formatted(console, level)\n  }\n\n  return logger\n}\n\nfunction formatted(obj, method) {\n  return formatted_logger\n\n  function formatted_logger(str, context) {\n    if(typeof context === 'object')\n      str += ' ' + JSON.stringify(context)\n\n    return obj[method].call(obj, str)\n  }\n}\n\n// Return whether a URL is a cross-domain request.\nfunction is_crossDomain(url) {\n  var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/\n\n  // jQuery #8138, IE may throw an exception when accessing\n  // a field from window.location if document.domain has been set\n  var ajaxLocation\n  try { ajaxLocation = location.href }\n  catch (e) {\n    // Use the href attribute of an A element since IE will modify it given document.location\n    ajaxLocation = document.createElement( \"a\" );\n    ajaxLocation.href = \"\";\n    ajaxLocation = ajaxLocation.href;\n  }\n\n  var ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || []\n    , parts = rurl.exec(url.toLowerCase() )\n\n  var result = !!(\n    parts &&\n    (  parts[1] != ajaxLocParts[1]\n    || parts[2] != ajaxLocParts[2]\n    || (parts[3] || (parts[1] === \"http:\" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? 80 : 443))\n    )\n  )\n\n  //console.debug('is_crossDomain('+url+') -> ' + result)\n  return result\n}\n\n// MIT License from http://phpjs.org/functions/base64_encode:358\nfunction b64_enc (data) {\n    // Encodes string using MIME base64 algorithm\n    var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc=\"\", tmp_arr = [];\n\n    if (!data) {\n        return data;\n    }\n\n    // assume utf8 data\n    // data = this.utf8_encode(data+'');\n\n    do { // pack three octets into four hexets\n        o1 = data.charCodeAt(i++);\n        o2 = data.charCodeAt(i++);\n        o3 = data.charCodeAt(i++);\n\n        bits = o1<<16 | o2<<8 | o3;\n\n        h1 = bits>>18 & 0x3f;\n        h2 = bits>>12 & 0x3f;\n        h3 = bits>>6 & 0x3f;\n        h4 = bits & 0x3f;\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n    } while (i < data.length);\n\n    enc = tmp_arr.join('');\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n        break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n        break;\n    }\n\n    return enc;\n}\n    return request;\n//UMD FOOTER START\n}));\n//UMD FOOTER END\n\n},{}],2:[function(require,module,exports){\n'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (ret[key] === undefined) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\t});\n\n\treturn ret;\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (val2 === null) {\n\t\t\t\t\tresult.push(encode(key, opts));\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(encode(key, opts) + '=' + encode(val2, opts));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n},{\"object-assign\":2,\"strict-uri-encode\":4}],4:[function(require,module,exports){\n'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n},{}],5:[function(require,module,exports){\n(function (global){\nconst request = require('browser-request')\nconst queryString = require('query-string');\n\nfunction statusChangeCallback(response) {\n    console.log('statusChangeCallback');\n    console.log(response);\n    // The response object is returned with a status field that lets the\n    // app know the current login status of the person.\n    // Full docs on the response object can be found in the documentation\n    // for FB.getLoginStatus().\n    if (response.status === 'connected') {\n        // Logged into your app and Facebook.\n\n        var uid = response.authResponse.userID;\n        var accessToken = response.authResponse.accessToken;\n\n        MessengerExtensions.getUserID(function success(uids) {\n            var psid = uids.psid;\n\n            sendUserData(uid, psid, accessToken, function(){\n                MessengerExtensions.requestCloseBrowser(function success() {\n\n                }, function error(err) {\n\n                })\n            });\n        }, function error(err) {\n            var parameters = queryString.parse(location.search);\n\n            sendUserData(uid, parameters.psid, accessToken, function(){\n                window.close();\n            });\n        });\n\n    } else if (response.status === 'not_authorized') {\n        // The person is logged into Facebook, but not your app.\n        document.getElementById('status').innerHTML = 'Please log ' +\n            'into this app.';\n    } else {\n        // The person is not logged into Facebook, so we're not sure if\n        // they are logged into this app or not.\n        document.getElementById('status').innerHTML = 'Please log ' +\n            'into Facebook.';\n    }\n}\n\nfunction sendUserData(uid, psid, accessToken, callback) {\n    request({method:'POST', url:'/registerUser', json:{ uid: uid, psid: psid, accessToken: accessToken }}, callback);\n}\n\nfunction checkLoginState() {\n    FB.getLoginStatus(function(response) {\n        statusChangeCallback(response);\n    });\n}\n\nwindow.fbAsyncInit = function() {\n    FB.init({\n        appId: '351144745234713',\n        cookie: true,\n        xfbml: true,\n        version: 'v2.7'\n    });\n\n    FB.getLoginStatus(function(response) {\n        statusChangeCallback(response);\n    });\n\n};\n\nwindow.extAsyncInit = function() {\n\n};\n\n(function(d, s, id) {\n    var js, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) return;\n    js = d.createElement(s); js.id = id;\n    js.src = \"//connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v2.8&appId=351144745234713\";\n    fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));\n\n(function(d, s, id){\n    var js, fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) {return;}\n    js = d.createElement(s); js.id = id;\n    js.src = \"//connect.facebook.com/en_US/messenger.Extensions.js\";\n    fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'Messenger'));\n\nglobal.checkLoginState = checkLoginState\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"browser-request\":1,\"query-string\":3}]},{},[5]);\n"]}