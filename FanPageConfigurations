* Set Greeting *

curl -X POST -H "Content-Type: application/json" -d '{
  "setting_type":"greeting",
  "greeting":{
    "text":"Bienvenido a Sandwich Or Salad!, ahora puedes hacer tus pedidos o comunicarte sin dejar el messenger. Por favor dá click en el botón Empezar"
  }
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAACmGsSpx0UBAF2rhSzYuZB13P2KK1G3imYWNZCeZAyTI90aCrPp3NBVnPFXUSfzysirU20b6uCzQJFdgJCgOUvFseZAbvdH5AniZClPEOjIIPxHZBRV0uCrVpeWJjLy2GZA6pPUCzgfClJkZBRNGwU3AbQFv84l0B1bf3GvBPYm1QZDZD"


* Delete Greeting *

curl -X DELETE -H "Content-Type: application/json" -d '{
  "setting_type":"greeting"
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAAEZCXUHN8RkBANI8nsN7bjX6ndZCESyvtqqLySc013nVTzdtmTzqig3W6q0txuoW77fBmaAZCfOGktB5fWWlnZCalGglkXF2fg6WHT5hqjPctduJhwMTfh4RyHl5vAmivx1ncnZCwvehPEyfs2SZCwIeYegEAcFoblKtxH7MuRAZDZD"


* Set Started Button *

curl -X POST -H "Content-Type: application/json" -d '{
  "setting_type":"call_to_actions",
  "thread_state":"new_thread",
  "call_to_actions":[
    {
      "payload":"Greeting"
    }
  ]
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAACmGsSpx0UBAF2rhSzYuZB13P2KK1G3imYWNZCeZAyTI90aCrPp3NBVnPFXUSfzysirU20b6uCzQJFdgJCgOUvFseZAbvdH5AniZClPEOjIIPxHZBRV0uCrVpeWJjLy2GZA6pPUCzgfClJkZBRNGwU3AbQFv84l0B1bf3GvBPYm1QZDZD"


* Delete Started Button *

curl -X DELETE -H "Content-Type: application/json" -d '{
  "setting_type":"call_to_actions",
  "thread_state":"new_thread"
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAAEZCXUHN8RkBANI8nsN7bjX6ndZCESyvtqqLySc013nVTzdtmTzqig3W6q0txuoW77fBmaAZCfOGktB5fWWlnZCalGglkXF2fg6WHT5hqjPctduJhwMTfh4RyHl5vAmivx1ncnZCwvehPEyfs2SZCwIeYegEAcFoblKtxH7MuRAZDZD"


* Set Persistent Menu * 

curl -X POST -H "Content-Type: application/json" -d '{
  "setting_type" : "call_to_actions",
  "thread_state" : "existing_thread",
  "call_to_actions":[
    {
      "type":"postback",
      "title":"Menu de productos",
      "payload":"SendCategories-0"
    },
    {
      "type":"postback",
      "title":"Carrito",
      "payload":"SendCart"
    },
    {
      "type":"postback",
      "title":"Mis ordenes",
      "payload":"SendOrders"
    },
    {
      "type":"postback",
      "title":"Mi cuenta",
      "payload":"SendAccount"
    },
    {
      "type":"postback",
      "title":"Ayuda",
      "payload":"SendHelp"
    }	
  ]
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAAEZCXUHN8RkBACxN9NIi2RpJR8qLQycx7uNKeIlZBZCEjU3gsuugkpfNvIU6OQxiDMIZCpzpXBc6ZAtFQODYJuBsAFIRTilX8IuESrXzNuSTxrhDZA6aMh7tZACD4oh7lGp3K5iMShAX4pptQxqCKgfby55YQCDw0pZCsb5km5sbQZDZD"

* Delete Persistent Menu *

curl -X DELETE -H "Content-Type: application/json" -d '{
  "setting_type":"call_to_actions",
  "thread_state":"existing_thread"
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAAEZCXUHN8RkBACxN9NIi2RpJR8qLQycx7uNKeIlZBZCEjU3gsuugkpfNvIU6OQxiDMIZCpzpXBc6ZAtFQODYJuBsAFIRTilX8IuESrXzNuSTxrhDZA6aMh7tZACD4oh7lGp3K5iMShAX4pptQxqCKgfby55YQCDw0pZCsb5km5sbQZDZD"




* Whitelist your domain

curl -X POST -H "Content-Type: application/json" -d '{
  "setting_type" : "domain_whitelisting",
  "whitelisted_domains" : ["https://8baf4dca.ngrok.io"],
  "domain_action_type": "add"
}' "https://graph.facebook.com/v2.6/me/thread_settings?access_token=EAACmGsSpx0UBAH9FhVZBKh1efALftk5NOZAUrm7w33stBeaj4PYFMoNZAHNvsQNqzWg1uPbxKD6DuoVZBhOAVwZC5bGvJCkigxnzG2tbntLBOIQXfwrpqeM5fZBFq9iZA3uAjZAnmqTwehdj0RVo3iwPNRO0ZBqwOTBm9Hp9aoQEIDAZDZD"






https://www.facebook.com/v2.8/dialog/oauth?client_id=182633898821445&redirect_uri=https://bot.inoutdelivery.com/









firebase.initializeApp({
    serviceAccount: {
        projectId: "firebase-inoutlive",
        clientEmail: "jar@inoutdelivery.com",
        privateKey: "AIzaSyD7oComy15d17Z3LyZk81N4A580FW4_nyI"
    },
    databaseURL: FIREBASE_URL
});

var db = firebase.database();
/*firebase.database().ref('/states/dev').on("child_added", (event) => {
    console.log(event.val());
});*/

firebase.database().ref('/states/dev').once('value').then(function(snapshot) {
    console.log(snapshot.val());
});
